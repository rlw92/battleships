(()=>{"use strict";var e={d:(t,l)=>{for(var n in l)e.o(l,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:l[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{jK:()=>b,zf:()=>k,o7:()=>I,P4:()=>P,VL:()=>S,hJ:()=>B,yR:()=>L,He:()=>w,w7:()=>A,sq:()=>C,t:()=>M});const t={createGrids:(e,t,l)=>{let n=document.createElement("div");n.style.padding="10px",n.style.border=0===l||0===t?"none":"solid black 2px",n.textContent=l,n.style.textAlign="center",0===l&&"0"===e?n.textContent=t:0===t&&"0"!=e&&(n.textContent=e),n.dataset.hit="No",n.dataset.P1hit="N",n.dataset.P2hit="N",n.dataset.letter=e,n.dataset.number=t,n.classList.add("cell"),n.setAttribute("id",n.dataset.letter+n.dataset.number),document.getElementById("gameboard1").appendChild(n)},createGameboard:()=>{for(let e=0;e<11;e++)t.createGrids("0",0,e),t.createGrids("A",e),t.createGrids("B",e),t.createGrids("C",e),t.createGrids("D",e),t.createGrids("E",e),t.createGrids("F",e),t.createGrids("G",e),t.createGrids("H",e),t.createGrids("I",e),t.createGrids("J",e)}};function l(e,t,l,n){let o=[];if("V"===n){let n=11-l;t>n&&(t=n);for(let n=1;n<l+1;n++)o.push(e+t++)}else if("H"===n){let n=e.charCodeAt(0),r=75-l;n>r&&(n=r),console.log(n),console.log(r);for(let e=1;e<l+1;e++)o.push(String.fromCharCode(n++)+t)}return o}function n(e,t){let l=e,n=t,o=0;for(let e=0;e<n.length;e++)for(let t=0;t<l.length;t++)for(let r=0;r<l[t].coordinates.length;r++)l[t].coordinates[r]===n[e]&&o++;return o=o>0?"Y":"N",o}function o(e,t){this.name=e,this.coordinates=t,this.hitShip=()=>{alert("You struck the "+e+" ship")},this.isSunk=()=>{0===t.length&&alert("You sunk the "+e+" ship")}}let r;const s=e=>{e.target.style.backgroundColor="red";let t,n=e.target.dataset.letter,s=e.target.dataset.number,a=new o("Carrier",l(n,s,2,I));return"0"===s?console.log("Stay in the grid."):(P===A[0]?(t=S,r="p1c"):P===A[1]&&(t=L,r="p2c"),t.push(a)),t},a=e=>{e.target.style.backgroundColor="red";let t,s=e.target.dataset.letter,a=e.target.dataset.number,i=new o("Battleship",l(s,a,3,I));return"0"===a?console.log("Stay in the grid."):(P===A[0]?(t=S,r="p1c"):P===A[1]&&(t=L,r="p2c"),"Y"===n(t,l(s,a,3,I))?alert("These tiles have already been assigned, please choose different tiles"):t.push(i)),t},i=e=>{e.target.style.backgroundColor="red";let t,s=e.target.dataset.letter,a=e.target.dataset.number,i=new o("Cruiser",l(s,a,4,I));return"0"===a?console.log("Stay in the grid."):(P===A[0]?(t=S,r="p1c"):P===A[1]&&(t=L,r="p2c"),"Y"===n(t,l(s,a,4,I))?alert("These tiles have already been assigned, please choose different tiles"):t.push(i)),t},c=e=>{e.target.style.backgroundColor="red";let t,s=e.target.dataset.letter,a=e.target.dataset.number,i=new o("Submarine",l(s,a,5,I));return"0"===a?console.log("Stay in the grid."):(P===A[0]?(t=S,r="p1c"):P===A[1]&&(t=L,r="p2c"),"Y"===n(t,l(s,a,5,I))?alert("These tiles have already been assigned, please choose different tiles"):t.push(i)),t},d=e=>{e.target.style.backgroundColor="red";let t,s=e.target.dataset.letter,a=e.target.dataset.number,i=new o("Destroyer",l(s,a,6,I));return"0"===a?console.log("Stay in the grid."):(P===A[0]?(t=S,r="p1c"):P===A[1]&&(t=L,r="p2c"),"Y"===n(t,l(s,a,6,I))?alert("These tiles have already been assigned, please choose different tiles"):t.push(i)),t},u=function(e){let t=e.target.dataset.number,l=e.target.dataset.letter,n="blue";if("V"===I){let e=11-C;t>e&&(t=e),n="0"===t?"white":"grey";for(let e=0;e<C;e++)document.getElementById(l+(+t+e)).style.backgroundColor=n}else if("H"===I){let e=l.charCodeAt(0),n=75-C;e>n&&(e=n);for(let l=0;l<C;l++)document.getElementById(String.fromCharCode(e++)+t).style.backgroundColor="grey"}},g=function(e){e.target.backgroundColor="white";let t=e.target.dataset.number,l=e.target.dataset.letter,n=l+t;if(console.log(n),"V"===I){let e=11-C;t>e&&(t=e);for(let e=0;e<C;e++)document.getElementById(l+(+t+e)).style.backgroundColor="white"}else if("H"===I){let e=l.charCodeAt(0),n=75-C;e>n&&(e=n);for(let l=0;l<C;l++)document.getElementById(String.fromCharCode(e++)+t).style.backgroundColor="white"}},h=function(){let e=B;P===A[0]?e=B:P===A[1]&&(e=w);for(let t=0;t<e.length;t++)console.log(e[t]),document.getElementById(e[t]).style.backgroundColor="red"},m=function(){let e=document.querySelectorAll(".cell");for(let t=0;t<e.length;t++)e[t].style.backgroundColor="white"},y=function(e){"0"===e.target.dataset.number?e.target.style.backgroundColor="white":e.target.style.backgroundColor="red"},p=function(e){P===A[0]?b=e.target.dataset.P1hit:P===A[1]&&(b=e.target.dataset.P2hit),console.log(b),"Y"===b?e.target.style.backgroundColor="red":"N"===b&&(e.target.style.backgroundColor="white")},f=function(){let e=S;P===A[0]?(e=S,console.log(e)):P===A[1]&&(e=L,console.log(e));for(let t=0;t<e.length;t++)for(let l=0;l<e[t].coordinates.length;l++)document.getElementById(e[t].coordinates[l]).style.backgroundColor="grey"},v=(()=>{var e=document.getElementById("myModal"),t=document.getElementById("myBtn");let l=document.getElementById("para1"),n=document.getElementById("para2");document.getElementsByClassName("close")[0];let o=document.getElementById("PSbuttons");o.style.display="none",t.onclick=function(){e.style.display="None"};let r=document.getElementById("frnd"),s=document.getElementById("comp");return{showModule:function(){e.style.display="block",l.textContent="CHANGE PLACES!",n.textContent="Click button when ready.",o.style.display="none",t.style.display="block"},playerSelect:function(){e.style.display="block",l.textContent="Are you playing with a friend or against our AI?",t.style.display="none",document.querySelector(".close").style.display="none",o.style.display="block",r.addEventListener("click",(()=>{k="N",e.style.display="none"})),s.addEventListener("click",(()=>{k="Y",e.style.display="none"}))}}})(),E=(()=>{function e(e,t){return Math.floor(Math.random()*(t-e+1)+e)}return{selectCarrier:function(){let t=e(65,74),r=String.fromCharCode(t),s=Math.floor(10*Math.random()+1),a="V";a=1===e(1,2)?"V":"H";let i=L,c=new o("Carrier",l(r,s,2,a));"Y"===n(i,l(r,s,2,a))?E.selectCarrier():(i.push(c),E.selectBattleship())},selectBattleship:function(){let t=e(65,74),r=String.fromCharCode(t),s=Math.floor(10*Math.random()+1),a="V";a=1===e(1,2)?"V":"H";let i=L,c=new o("Battleship",l(r,s,3,a));"Y"===n(i,l(r,s,3,a))?E.selectBattleship():(i.push(c),E.selectCruiser())},selectCruiser:function(){let t=e(65,74),r=String.fromCharCode(t),s=Math.floor(10*Math.random()+1),a="V";a=1===e(1,2)?"V":"H";let i=L,c=new o("Cruiser",l(r,s,4,a));"Y"===n(i,l(r,s,4,a))?E.selectCruiser():(i.push(c),E.selectSubmarine())},selectSubmarine:function(){let t=e(65,74),r=String.fromCharCode(t),s=Math.floor(10*Math.random()+1),a="V";a=1===e(1,2)?"V":"H";let i=L,c=new o("Submarine",l(r,s,5,a));"Y"===n(i,l(r,s,5,a))?E.selectSubmarine():(i.push(c),E.selectDestroyer())},selectDestroyer:function(){let t=e(65,74),r=String.fromCharCode(t),s=Math.floor(10*Math.random()+1),a="V";a=1===e(1,2)?"V":"H";let i=L,c=new o("Destroyer",l(r,s,6,a));"Y"===n(i,l(r,s,6,a))?E.selectDestroyer():(i.push(c),M())}}})();let C,b,k="N",S=[],L=[],B=[],w=[],I="V",A=["player1","player2"],P=A[0],Y=S;P===A[0]?Y=S:P===A[1]&&(Y=L),document.getElementById("pip").textContent=P,document.getElementById("Chnge").addEventListener("click",(()=>{"V"===I?(I="H",document.getElementById("position").textContent="Horizontal"):"H"===I&&(I="V",document.getElementById("position").textContent="Vertical")})),document.getElementById("shwshipos").addEventListener("mouseover",(()=>{m(),f()})),document.getElementById("shwshipos").addEventListener("mouseleave",(()=>{m(),h()}));const V=()=>{v.showModule(),P===A[0]?(P=A[1],Y=L,document.getElementById("pip").textContent=P):P===A[1]?(P=A[0],Y=S,document.getElementById("pip").textContent=P):(P=A[0],Y=L,document.getElementById("pip").textContent=P),m(),h()};function G(e){console.log(e.target.dataset.letter);let t=S,l=B,n=e.target.dataset.letter,o=e.target.dataset.number,r=n+o;if(console.log(r),console.log(t.length),P===A[0]?(t=L,l=B,b=e.target.dataset.P1hit):P===A[1]&&(t=S,l=w,b=e.target.dataset.P2hit),"0"===o)console.log("Stay in the grid.");else if("Y"===b)console.log("Already been hit, try again.");else{P===A[0]?(t=L,l=B,b=e.target.dataset.P1hit="Y"):P===A[1]&&(t=S,l=w,b=e.target.dataset.P2hit="Y");for(let e=0;e<t.length;e++)for(let l=0;l<t[e].coordinates.length;l++)t[e].coordinates[l]===r&&(console.log(t[e].coordinates),t[e].coordinates.splice(l,1),t[e].hitShip(),t[e].isSunk(),x(),console.log(t[e].coordinates),console.log("Player one sunk ships: 0"),console.log("Player two sunk ships: 0"));l.push(r),console.log("P1 strikes: "+B),console.log("P2 strikes: "+w),V()}}function x(){let e,t=0,l=S;P===A[0]?(l=L,e="Player One"):P===A[1]&&(l=S,e="Player Two");for(let e=0;e<l.length;e++)0===l[e].coordinates.length&&++t;console.log(t),5===t&&alert(e+" has won!")}function M(){if(Y.length>1)if("Y"===k){alert("TEST"),C=1;let e=document.querySelectorAll(".cell");for(let t=0;t<e.length;t++)e[t].style.backgroundColor="white",document.getElementById("ingamebuttons").style.display="block",document.getElementById("positionPara").style.display="none",document.getElementById("Chnge").style.display="none";H()}else{C=1,V();let e=document.querySelectorAll(".cell");for(let t=0;t<e.length;t++)e[t].removeEventListener("click",d),e[t].removeEventListener("click",M),e[t].style.backgroundColor="white",document.getElementById("ingamebuttons").style.display="block",document.getElementById("positionPara").style.display="none",document.getElementById("Chnge").style.display="none";H()}}function H(){let e=document.querySelectorAll(".cell");for(let t=0;t<e.length;t++)e[t].addEventListener("click",G),e[t].style.backgroundColor="white",e[t].removeEventListener("mouseover",u),e[t].removeEventListener("mouseleave",g),e[t].addEventListener("mouseover",y),e[t].addEventListener("mouseleave",p)}const q={p1carrierShip:function(){let e=document.querySelectorAll(".cell");C=2;for(let t=0;t<e.length;t++)e[t].addEventListener("click",s),e[t].addEventListener("click",q.p1battleShip),e[t].addEventListener("mouseover",u),e[t].addEventListener("mouseleave",g)},p1battleShip:function(){if(Y.length>0){let e=document.querySelectorAll(".cell");C=3;for(let t=0;t<e.length;t++)e[t].removeEventListener("click",s),e[t].removeEventListener("click",q.p1battleShip),e[t].addEventListener("click",a),e[t].addEventListener("click",q.p1cruiserShip),e[t].addEventListener("mouseover",u),e[t].addEventListener("mouseleave",g)}},p1cruiserShip:function(){if(Y.length>1){console.log(Y);let e=document.querySelectorAll(".cell");C=4;for(let t=0;t<e.length;t++)e[t].removeEventListener("click",a),e[t].removeEventListener("click",q.p1cruiserShip),e[t].addEventListener("click",i),e[t].addEventListener("click",q.p1submarineShip),e[t].addEventListener("mouseover",u),e[t].addEventListener("mouseleave",g)}},p1submarineShip:function(){if(Y.length>2){let e=document.querySelectorAll(".cell");C=5;for(let t=0;t<e.length;t++)e[t].removeEventListener("click",i),e[t].removeEventListener("click",q.p1submarineShip),e[t].addEventListener("click",c),e[t].addEventListener("click",q.p1destroyerShip),e[t].addEventListener("mouseover",u),e[t].addEventListener("mouseleave",g)}},p1destroyerShip:function(){if(Y.length>3){let e=document.querySelectorAll(".cell");C=6;for(let t=0;t<e.length;t++)e[t].removeEventListener("click",c),e[t].removeEventListener("click",q.p1destroyerShip),e[t].addEventListener("click",d),P===A[1]?e[t].addEventListener("click",M):P===A[0]&&e[t].addEventListener("click",q.loop),e[t].addEventListener("mouseover",u),e[t].addEventListener("mouseleave",g)}},loop:function(){if(Y.length>4)if("Y"===k){V();let e=document.querySelectorAll(".cell");for(let t=0;t<e.length;t++)e[t].removeEventListener("click",d),e[t].removeEventListener("click",q.loop),e[t].style.backgroundColor="white";E.selectCarrier()}else{V();let e=document.querySelectorAll(".cell");for(let t=0;t<e.length;t++)e[t].removeEventListener("click",d),e[t].removeEventListener("click",q.loop),e[t].style.backgroundColor="white";q.p1carrierShip()}}};v.playerSelect(),t.createGameboard(),q.p1carrierShip()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBSSxJQUFJdkQsRUFBRSxFQUFFQSxFQUFFc0QsRUFBTWxELE9BQU9KLElBQ3ZCc0QsRUFBTXRELEdBQUdtRyxvQkFBb0IsUUFBUXRELEdBQ3JDUyxFQUFNdEQsR0FBR21HLG9CQUFvQixRQUFRQyxFQUFnQk0sTUFDckRwRCxFQUFNdEQsR0FBR2pCLE1BQU1tRCxnQkFBa0IsUUFHN0J5QyxFQUFXTyxvQkFDWCxDQUlaUSxJQUNJLElBQUlwQyxFQUFRekUsU0FBUzBFLGlCQUFpQixTQUV0QyxJQUFJLElBQUl2RCxFQUFFLEVBQUVBLEVBQUVzRCxFQUFNbEQsT0FBT0osSUFDdkJzRCxFQUFNdEQsR0FBR21HLG9CQUFvQixRQUFRdEQsR0FDckNTLEVBQU10RCxHQUFHbUcsb0JBQW9CLFFBQVFDLEVBQWdCTSxNQUNyRHBELEVBQU10RCxHQUFHakIsTUFBTW1ELGdCQUFrQixRQUU3Q2tFLEVBQWdCQyxtQkFhYjFDLEVBQVlZLGVBQ1hoRyxFQUFnQndCLGtCQUNwQnFHLEVBQWdCQyxpQiIsInNvdXJjZXMiOlsid2VicGFjazovL2JhdHRsZXNoaXBzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2JhdHRsZXNoaXBzL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwcy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2JhdHRsZXNoaXBzLy4vc3JjL2dhbWVib2FyZC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwcy8uL3NyYy9jaG9vc2VDb29yZGluYXRlcy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwcy8uL3NyYy9vdmVyTGFwLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXBzLy4vc3JjL3NoaXBzLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXBzLy4vc3JjL2RvbS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwcy8uL3NyYy9tb2RhbC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwcy8uL3NyYy9jb21wdXRlckFJLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXBzLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiY29uc3QgR2FtZWJvYXJkTW9kdWxlID0gKCgpID0+IHtcblxuICAgIGxldCBib3JkID0gXCJzb2xpZCBibGFjayAycHhcIjtcbiAgICBsZXQgbm9ib3JkID0gXCJub25lXCI7XG4gICAgXG4gICAgXG4gICAgY29uc3QgY3JlYXRlR3JpZHMgPSAobHRyLG5vLGlkKSA9PntcbiAgICBsZXQgZ3JpZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICBncmlkLnN0eWxlLnBhZGRpbmcgPSBcIjEwcHhcIjtcbiAgICAvL3RyeWluZyB0byB0YWtlIG91dCB0aGUgYm9yZGVyaW5nIG9mIHRoZSBub3QgaW4gcGxheSBjZWxsc1xuICAgIGlmKGlkPT09IDApe2dyaWQuc3R5bGUuYm9yZGVyPW5vYm9yZH1cbiAgICBlbHNlIGlmKG5vPT09MCl7Z3JpZC5zdHlsZS5ib3JkZXIgPSBub2JvcmQ7fVxuICAgIGVsc2V7Z3JpZC5zdHlsZS5ib3JkZXIgPSBib3JkO31cbiAgICBcbiAgICBcbiAgICBncmlkLnRleHRDb250ZW50ID0gaWQ7XG4gICAgZ3JpZC5zdHlsZS50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuICAgIGlmKGlkPT09MCAmJiBsdHI9PT1cIjBcIil7Z3JpZC50ZXh0Q29udGVudCA9IG5vfVxuICAgIGVsc2UgaWYobm89PT0wICYmIGx0ciE9XCIwXCIpe2dyaWQudGV4dENvbnRlbnQgPSBsdHJ9XG4gICAgZ3JpZC5kYXRhc2V0LmhpdCA9IFwiTm9cIlxuICAgIGdyaWQuZGF0YXNldC5QMWhpdD1cIk5cIlxuICAgIGdyaWQuZGF0YXNldC5QMmhpdD1cIk5cIlxuICAgIGxldCBsZXR0ZXIgPSBncmlkLmRhdGFzZXQubGV0dGVyID0gbHRyO1xuICAgIGxldCBudW1iZXIgPSBncmlkLmRhdGFzZXQubnVtYmVyID0gbm87XG4gICAgLy9zaG93cyB3aGljaCBwbGF5ZXIgb3ducyB0aGUgY2VsbC8vXG4gICAgLy9sZXQgcGxheWVyID0gZ3JpZC5kYXRhc2V0LnBsYXllcmNlbGwgPSBcInBsYXllclwiK3BseXI7XG4gICAgXG4gICAgLy9jcmVhdGluZyBhIGNsYXNzIGZvciBlYWNoIGdyaWQgc28gd2UgY2FuIGFjY2VzcyBpdCBmcm9tIHRoZSBmdW5jdGlvbnNcbiAgICBncmlkLmNsYXNzTGlzdC5hZGQoXCJjZWxsXCIpO1xuICAgIC8vY3JlYXRpbmcgYW4gaWQgdGhhdCBtYXRjaGVzIGl0cyBjb29yZGluYXRlc1xuICAgIGdyaWQuc2V0QXR0cmlidXRlKCdpZCcsZ3JpZC5kYXRhc2V0LmxldHRlcitncmlkLmRhdGFzZXQubnVtYmVyKVxuICAgIFxuICAgICAgICAgXG4gICAgbGV0IGdhbWVib2FyZCA9ICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVib2FyZDFcIik7XG4gICAgXG4gICAgZ2FtZWJvYXJkLmFwcGVuZENoaWxkKGdyaWQpO1xuICAgIFxuICAgIH1cbiAgICBcbiAgICAvL2NyZWF0ZSB0aGUgd2hvbGUgZ3JpZCB3aXRoIGJlbG93IGZ1bmN0aW9uXG4gICAgY29uc3QgY3JlYXRlR2FtZWJvYXJkID0gKCkgPT57XG4gICAgXG4gICAgZm9yKGxldCBpPTA7aTwxMTtpKyspe1xuICAgICAgICBcbiAgICBcbiAgICAgICAgR2FtZWJvYXJkTW9kdWxlLmNyZWF0ZUdyaWRzKFwiMFwiLDAsaSlcbiAgICAgICAgR2FtZWJvYXJkTW9kdWxlLmNyZWF0ZUdyaWRzKFwiQVwiLGkpO1xuICAgICAgICBHYW1lYm9hcmRNb2R1bGUuY3JlYXRlR3JpZHMoXCJCXCIsaSk7XG4gICAgICAgIEdhbWVib2FyZE1vZHVsZS5jcmVhdGVHcmlkcyhcIkNcIixpKTtcbiAgICAgICAgR2FtZWJvYXJkTW9kdWxlLmNyZWF0ZUdyaWRzKFwiRFwiLGkpO1xuICAgICAgICBHYW1lYm9hcmRNb2R1bGUuY3JlYXRlR3JpZHMoXCJFXCIsaSk7XG4gICAgICAgIEdhbWVib2FyZE1vZHVsZS5jcmVhdGVHcmlkcyhcIkZcIixpKTtcbiAgICAgICAgR2FtZWJvYXJkTW9kdWxlLmNyZWF0ZUdyaWRzKFwiR1wiLGkpO1xuICAgICAgICBHYW1lYm9hcmRNb2R1bGUuY3JlYXRlR3JpZHMoXCJIXCIsaSk7XG4gICAgICAgIEdhbWVib2FyZE1vZHVsZS5jcmVhdGVHcmlkcyhcIklcIixpKTtcbiAgICAgICAgR2FtZWJvYXJkTW9kdWxlLmNyZWF0ZUdyaWRzKFwiSlwiLGkpO1xuICAgIFxuICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtjcmVhdGVHcmlkcyxjcmVhdGVHYW1lYm9hcmR9XG4gICAgfSkoKTtcblxuICAgIGV4cG9ydHtHYW1lYm9hcmRNb2R1bGV9OyIsIi8vdGhlIGNob29vc2UgY29vcmRpbmF0ZXMgZnVuY3Rpb25cbmZ1bmN0aW9uIGNob29zZUNyZG50cyhTdHJ0THR0cnMsU3RydE5vLGxlbmd0aCxWb3JIKXtcbiAgICBsZXQgY29vcmQgPSBbXTtcbiAgICBcbiAgICBpZihWb3JIPT09XCJWXCIpe1xuICAgIGxldCBvdmVyID0gMTEtbGVuZ3RoO1xuICAgIC8vYnVpbGRpbmcgaXQgc28gd2hlbiB0aGUgdXNlciBzZWxlY3RzIGEgbnVtYmVyIGl0IGtlZXBzIGl0IHdpdGhpbiB0aGUgZ3JpZFxuICAgIGlmKFN0cnRObz5vdmVyKXtTdHJ0Tm8gPSBvdmVyfVxuICAgIC8vaWYoVm9ySD09PVwiVmVydGljYWxcIil7fSBXaWxsIGJlIHRyZWF0aW5nIHRoaXMgdGVzdGluZyBhcyBjb21wbGV0ZSB2ZXJ0aWNhbCBwb3NpdGlvbmluZ1xuICAgIGZvcihsZXQgaT0xO2k8bGVuZ3RoKzE7aSsrKXtcbiAgICAgICAgY29vcmQucHVzaChTdHJ0THR0cnMgKyBTdHJ0Tm8rKylcbiAgICB9XG59XG5cbmVsc2UgaWYoVm9ySD09PVwiSFwiKXtcbiAgICBsZXQgTHRyTnVtYmVyID0gU3RydEx0dHJzLmNoYXJDb2RlQXQoMClcbiAgICBsZXQgb3ZlciA9IDc1LWxlbmd0aDtcbiAgICAvL2J1aWxkaW5nIGl0IHNvIHdoZW4gdGhlIHVzZXIgc2VsZWN0cyBhIG51bWJlciBpdCBrZWVwcyBpdCB3aXRoaW4gdGhlIGdyaWRcbiAgICBpZihMdHJOdW1iZXI+b3Zlcil7THRyTnVtYmVyID0gb3Zlcn1cbiAgICBjb25zb2xlLmxvZyhMdHJOdW1iZXIpXG4gICAgY29uc29sZS5sb2cob3ZlcilcbiAgICBcbiAgICBmb3IobGV0IGk9MTtpPGxlbmd0aCsxO2krKyl7XG4gICAgICAgIGNvb3JkLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShMdHJOdW1iZXIrKykgKyBTdHJ0Tm8pXG4gICAgfVxuXG59XG4gICAgcmV0dXJuIGNvb3JkO1xuXG59XG5cbmV4cG9ydCB7Y2hvb3NlQ3JkbnRzfSIsIi8vY29kZSBmb3IgaWRlbnRpZnlpbmcgd2hlbiB0aGUgY2hvc2VuIGNvb3JkaW5hdGVzIG92ZXJsYXAgXG4vL3dpdGggY29vcmRpbmF0ZXMgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiBhc3NpZ25lZFxuXG5cblxuXG5cbmZ1bmN0aW9uIG92ZXJMYXAoYSxiKXtcbi8vUGxjPSBwbGF5ZXIgY29vcmRpbmF0ZXMgICAgXG5sZXQgcGxjPWE7XG4vL2NyZCBpcyB0aGUgbmV3IGNvb3JkaW5hdGVzXG5sZXQgY3JkID1iO1xuLy92YXJpYWJsZSB0byByZXR1cm5cbmxldCBvdnJsYXA9MDtcblxuZm9yKGxldCB6PTA7ejxjcmQubGVuZ3RoO3orKyl7XG5mb3IobGV0IHA9MDtwPHBsYy5sZW5ndGg7cCsrKXtcbiAgICBmb3IobGV0IGk9MDtpPHBsY1twXS5jb29yZGluYXRlcy5sZW5ndGg7aSsrKXtcbiAgICBpZihwbGNbcF0uY29vcmRpbmF0ZXNbaV09PT1jcmRbel0pe292cmxhcCsrfVxuICAgIFxufVxufVxufVxuaWYob3ZybGFwPjApe292cmxhcD1cIllcIn1cbiAgICBlbHNle292cmxhcD1cIk5cIn1cbnJldHVybiBvdnJsYXBcbn1cblxuLypcblxuLy9zZWNvbmQgYXR0ZW1wdCBkdW1iaW5nIGl0IGRvd25cbmZ1bmN0aW9uIG92ZXJMYXAoYSxiKXtcbiAgICAvL1BsYz0gcGxheWVyIGNvb3JkaW5hdGVzICAgIFxuICAgIGxldCBwbGM9YTtcbiAgICAvL2NyZCBpcyB0aGUgbmV3IGNvb3JkaW5hdGVzXG4gICAgbGV0IGNyZCA9YjtcbiAgICAvL3ZhcmlhYmxlIHRvIHJldHVyblxuICAgIGxldCBvdnJsYXAgPTA7XG4gICAgXG4gICAgZm9yKGxldCBwPTA7cDxwbGMubGVuZ3RoO3ArKyl7XG4gICAgZm9yKGxldCB6PTA7ejxjcmQubGVuZ3RoO3orKyl7XG4gICAgICAgIGlmKHBsY1twXT09PWNyZFt6XSl7b3ZybGFwKyt9XG4gICAgICAgIFxuICAgIH1cbiAgICB9XG4gICAgXG4gICAgaWYob3ZybGFwPjApe292cmxhcD1cIllcIn1cbiAgICBlbHNle292cmxhcD1cIk5cIn1cbiAgICByZXR1cm4gb3ZybGFwXG4gICAgfVxuICAgICovXG5cbmV4cG9ydCB7b3ZlckxhcH0iLCJpbXBvcnR7cGlwLGRpcmVjdGlvbixwbGF5ZXIxY29vcmQscGxheWVyMmNvb3JkLHBsYXllckJhc2V9IGZyb20gJy4vaW5kZXgnXG5pbXBvcnR7Y2hvb3NlQ3JkbnRzfSBmcm9tICcuL2Nob29zZUNvb3JkaW5hdGVzJ1xuaW1wb3J0e292ZXJMYXB9IGZyb20gJy4vb3ZlckxhcCdcblxuXG5cbmZ1bmN0aW9uIHNoaXBmYWN0b3J5KG5hbWUsY29vcmRpbmF0ZXMpe1xuICAgIHRoaXMubmFtZSA9IG5hbWVcbiAgICB0aGlzLmNvb3JkaW5hdGVzID0gY29vcmRpbmF0ZXNcbiAgICB0aGlzLmhpdFNoaXAgPSAoKT0+e2FsZXJ0KFwiWW91IHN0cnVjayB0aGUgXCIgKyBuYW1lICsgXCIgc2hpcFwiKX1cbiAgICB0aGlzLmlzU3VuayA9ICgpID0+e2lmKGNvb3JkaW5hdGVzLmxlbmd0aD09PTApe2FsZXJ0KFwiWW91IHN1bmsgdGhlIFwiKyBuYW1lICtcIiBzaGlwXCIpO319XG4gICAgXG4gIH1cblxuICBsZXQgY29vcmRpZDtcblxuXG4gIGNvbnN0IGNhcnJpZXIgPSAodCkgPT57ICAgIFxuICAgIHQudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmVkXCI7XG4gICAgbGV0IGxldHRlciA9IHQudGFyZ2V0LmRhdGFzZXQubGV0dGVyO1xuICAgIGxldCBudW1iZXIgPSB0LnRhcmdldC5kYXRhc2V0Lm51bWJlcjtcbiAgICAvL2FsZXJ0KFwiWW91ciBiYXR0bGVzaGlwIHdpbGwgaGF2ZSB0aGUgY29vcmRpbmF0ZXM6IFwiK2Nob29zZUNyZG50cyhsZXR0ZXIsbnVtYmVyLD8/LGRpcmVjdGlvbikpXG4gICAgbGV0IGd1bm4gPSBuZXcgc2hpcGZhY3RvcnkoXCJDYXJyaWVyXCIsY2hvb3NlQ3JkbnRzKGxldHRlcixudW1iZXIsMixkaXJlY3Rpb24pKVxuICAgIGxldCBQQztcbiAgICBpZihudW1iZXI9PT1cIjBcIil7Y29uc29sZS5sb2coXCJTdGF5IGluIHRoZSBncmlkLlwiKX1cbiAgICBlbHNle1xuICAgIGlmKHBpcCA9PT0gcGxheWVyQmFzZVswXSl7UEMgPSBwbGF5ZXIxY29vcmQ7IGNvb3JkaWQgPSBcInAxY1wifVxuICAgIGVsc2UgaWYocGlwID09PSBwbGF5ZXJCYXNlWzFdKXtQQyA9IHBsYXllcjJjb29yZDsgY29vcmRpZCA9IFwicDJjXCJ9XG4gXG4gICAgUEMucHVzaChndW5uKTtcbiAgXG4gICAgICBcbiAgICB9XG4gICAgcmV0dXJuIFBDO1xuICAgIH1cblxuICBjb25zdCBiYXR0bGVzaGlwID0gKHQpID0+e1xuICAgIHQudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmVkXCI7XG4gICAgbGV0IGxldHRlciA9IHQudGFyZ2V0LmRhdGFzZXQubGV0dGVyO1xuICAgIGxldCBudW1iZXIgPSB0LnRhcmdldC5kYXRhc2V0Lm51bWJlcjtcbiAgICAvL2FsZXJ0KFwiWW91ciBiYXR0bGVzaGlwIHdpbGwgaGF2ZSB0aGUgY29vcmRpbmF0ZXM6IFwiK2Nob29zZUNyZG50cyhsZXR0ZXIsbnVtYmVyLD8/LGRpcmVjdGlvbikpXG4gICAgbGV0IGd1bm4gPSBuZXcgc2hpcGZhY3RvcnkoXCJCYXR0bGVzaGlwXCIsY2hvb3NlQ3JkbnRzKGxldHRlcixudW1iZXIsMyxkaXJlY3Rpb24pKVxuICAgIGxldCBQQztcbiAgICBpZihudW1iZXI9PT1cIjBcIil7Y29uc29sZS5sb2coXCJTdGF5IGluIHRoZSBncmlkLlwiKX1cbiAgICBlbHNle1xuICAgIGlmKHBpcCA9PT0gcGxheWVyQmFzZVswXSl7UEMgPSBwbGF5ZXIxY29vcmQ7IGNvb3JkaWQgPSBcInAxY1wifVxuICAgIGVsc2UgaWYocGlwID09PSBwbGF5ZXJCYXNlWzFdKXtQQyA9IHBsYXllcjJjb29yZDsgY29vcmRpZCA9IFwicDJjXCJ9XG4gICAgaWYob3ZlckxhcChQQyxjaG9vc2VDcmRudHMobGV0dGVyLG51bWJlciwzLGRpcmVjdGlvbikpPT09XCJZXCIpe2FsZXJ0KFwiVGhlc2UgdGlsZXMgaGF2ZSBhbHJlYWR5IGJlZW4gYXNzaWduZWQsIHBsZWFzZSBjaG9vc2UgZGlmZmVyZW50IHRpbGVzXCIpfVxuICBlbHNleyBcbiAgICBQQy5wdXNoKGd1bm4pO1xuICAgIFxuXG4gICAgXG4gIH19XG4gICAgcmV0dXJuIFBDO1xuICB9XG4gIGNvbnN0IGNydWlzZXIgPSAodCkgPT57XG4gICAgdC50YXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZWRcIjtcbiAgICBsZXQgbGV0dGVyID0gdC50YXJnZXQuZGF0YXNldC5sZXR0ZXI7XG4gICAgbGV0IG51bWJlciA9IHQudGFyZ2V0LmRhdGFzZXQubnVtYmVyO1xuICAgIC8vYWxlcnQoXCJZb3VyIGJhdHRsZXNoaXAgd2lsbCBoYXZlIHRoZSBjb29yZGluYXRlczogXCIrY2hvb3NlQ3JkbnRzKGxldHRlcixudW1iZXIsPz8sZGlyZWN0aW9uKSlcbiAgICBsZXQgZ3VubiA9IG5ldyBzaGlwZmFjdG9yeShcIkNydWlzZXJcIixjaG9vc2VDcmRudHMobGV0dGVyLG51bWJlciw0LGRpcmVjdGlvbikpXG4gICAgbGV0IFBDO1xuICAgIGlmKG51bWJlcj09PVwiMFwiKXtjb25zb2xlLmxvZyhcIlN0YXkgaW4gdGhlIGdyaWQuXCIpfVxuICAgIGVsc2V7XG4gICAgaWYocGlwID09PSBwbGF5ZXJCYXNlWzBdKXtQQyA9IHBsYXllcjFjb29yZDsgY29vcmRpZCA9IFwicDFjXCJ9XG4gICAgZWxzZSBpZihwaXAgPT09IHBsYXllckJhc2VbMV0pe1BDID0gcGxheWVyMmNvb3JkOyBjb29yZGlkID0gXCJwMmNcIn1cbiAgICBpZihvdmVyTGFwKFBDLGNob29zZUNyZG50cyhsZXR0ZXIsbnVtYmVyLDQsZGlyZWN0aW9uKSk9PT1cIllcIil7YWxlcnQoXCJUaGVzZSB0aWxlcyBoYXZlIGFscmVhZHkgYmVlbiBhc3NpZ25lZCwgcGxlYXNlIGNob29zZSBkaWZmZXJlbnQgdGlsZXNcIil9XG4gICAgZWxzZXsgXG4gICAgUEMucHVzaChndW5uKTtcbiAgICBcblxuICAgIFxuICAgIH19XG4gICAgcmV0dXJuIFBDO1xuICB9XG4gIGNvbnN0IHN1Ym1hcmluZSA9ICh0KSA9PntcbiAgICB0LnRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJlZFwiO1xuICAgIGxldCBsZXR0ZXIgPSB0LnRhcmdldC5kYXRhc2V0LmxldHRlcjtcbiAgICBsZXQgbnVtYmVyID0gdC50YXJnZXQuZGF0YXNldC5udW1iZXI7XG4gICAgLy9hbGVydChcIllvdXIgYmF0dGxlc2hpcCB3aWxsIGhhdmUgdGhlIGNvb3JkaW5hdGVzOiBcIitjaG9vc2VDcmRudHMobGV0dGVyLG51bWJlciw/PyxkaXJlY3Rpb24pKVxuICAgIGxldCBndW5uID0gbmV3IHNoaXBmYWN0b3J5KFwiU3VibWFyaW5lXCIsY2hvb3NlQ3JkbnRzKGxldHRlcixudW1iZXIsNSxkaXJlY3Rpb24pKVxuICAgIGxldCBQQztcbiAgICBpZihudW1iZXI9PT1cIjBcIil7Y29uc29sZS5sb2coXCJTdGF5IGluIHRoZSBncmlkLlwiKX1cbiAgICBlbHNle1xuICAgIGlmKHBpcCA9PT0gcGxheWVyQmFzZVswXSl7UEMgPSBwbGF5ZXIxY29vcmQ7IGNvb3JkaWQgPSBcInAxY1wifVxuICAgIGVsc2UgaWYocGlwID09PSBwbGF5ZXJCYXNlWzFdKXtQQyA9IHBsYXllcjJjb29yZDsgY29vcmRpZCA9IFwicDJjXCJ9XG4gICAgaWYob3ZlckxhcChQQyxjaG9vc2VDcmRudHMobGV0dGVyLG51bWJlciw1LGRpcmVjdGlvbikpPT09XCJZXCIpe2FsZXJ0KFwiVGhlc2UgdGlsZXMgaGF2ZSBhbHJlYWR5IGJlZW4gYXNzaWduZWQsIHBsZWFzZSBjaG9vc2UgZGlmZmVyZW50IHRpbGVzXCIpfVxuICAgIGVsc2V7IFxuICAgIFBDLnB1c2goZ3Vubik7XG4gICAgXG4gICAgXG4gICAgfX1cbiAgICByZXR1cm4gUEM7XG4gIH1cbiAgY29uc3QgZGVzdHJveWVyID0gKHQpID0+e1xuICAgIHQudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmVkXCI7XG4gICAgbGV0IGxldHRlciA9IHQudGFyZ2V0LmRhdGFzZXQubGV0dGVyO1xuICAgIGxldCBudW1iZXIgPSB0LnRhcmdldC5kYXRhc2V0Lm51bWJlcjtcbiAgICAvL2FsZXJ0KFwiWW91ciBiYXR0bGVzaGlwIHdpbGwgaGF2ZSB0aGUgY29vcmRpbmF0ZXM6IFwiK2Nob29zZUNyZG50cyhsZXR0ZXIsbnVtYmVyLD8/LGRpcmVjdGlvbikpXG4gICAgbGV0IGd1bm4gPSBuZXcgc2hpcGZhY3RvcnkoXCJEZXN0cm95ZXJcIixjaG9vc2VDcmRudHMobGV0dGVyLG51bWJlciw2LGRpcmVjdGlvbikpXG4gICAgbGV0IFBDO1xuICAgIGlmKG51bWJlcj09PVwiMFwiKXtjb25zb2xlLmxvZyhcIlN0YXkgaW4gdGhlIGdyaWQuXCIpfVxuICAgIGVsc2V7XG4gICAgaWYocGlwID09PSBwbGF5ZXJCYXNlWzBdKXtQQyA9IHBsYXllcjFjb29yZDsgY29vcmRpZCA9IFwicDFjXCJ9XG4gICAgZWxzZSBpZihwaXAgPT09IHBsYXllckJhc2VbMV0pe1BDID0gcGxheWVyMmNvb3JkOyBjb29yZGlkID0gXCJwMmNcIn1cbiAgICBpZihvdmVyTGFwKFBDLGNob29zZUNyZG50cyhsZXR0ZXIsbnVtYmVyLDYsZGlyZWN0aW9uKSk9PT1cIllcIil7YWxlcnQoXCJUaGVzZSB0aWxlcyBoYXZlIGFscmVhZHkgYmVlbiBhc3NpZ25lZCwgcGxlYXNlIGNob29zZSBkaWZmZXJlbnQgdGlsZXNcIil9XG4gICAgZWxzZXsgXG4gICAgUEMucHVzaChndW5uKTtcblxuICAgIFxuICAgIH19XG4gICAgcmV0dXJuIFBDO1xuICB9XG5cbiAgZXhwb3J0IHtzaGlwZmFjdG9yeSxjYXJyaWVyLGJhdHRsZXNoaXAsY3J1aXNlcixzdWJtYXJpbmUsZGVzdHJveWVyfSIsImltcG9ydCB7c3EsZGlyZWN0aW9uLHBsYXllcjFjb29yZCxwbGF5ZXIyY29vcmQscGlwLHBsYXllcjFzdHJpa2VzLHBsYXllcjJzdHJpa2VzLHBsYXllckJhc2UsUGhpdH0gZnJvbSAnLi9pbmRleCdcbmNvbnN0IGRvbU1vZHVsZSA9ICgoKSA9Pntcbi8vZnVuY3Rpb24gZm9yIGhpZ2hsaWdodGluZyBzcXVhcmVzIHdoZW4gaG92ZXJpbmdcbmZ1bmN0aW9uIGhvdmVyKHQpe1xubGV0IG51bWIgPSB0LnRhcmdldC5kYXRhc2V0Lm51bWJlcjtcbmxldCBsZXR0ZXJyID0gdC50YXJnZXQuZGF0YXNldC5sZXR0ZXI7XG5sZXQgY29sb3IgPSBcImJsdWVcIjtcblxuaWYoZGlyZWN0aW9uPT09XCJWXCIpe1xuICAgIGxldCBvdmVyID0gMTEtc3E7XG4gICAgLy9idWlsZGluZyBpdCBzbyB3aGVuIHRoZSB1c2VyIHNlbGVjdHMgYSBudW1iZXIgaXQga2VlcHMgaXQgd2l0aGluIHRoZSBncmlkXG4gICAgaWYobnVtYj5vdmVyKXtudW1iID0gb3Zlcn1cbiAgICBpZihudW1iPT09XCIwXCIpe2NvbG9yID0gXCJ3aGl0ZVwifVxuICAgIGVsc2V7Y29sb3I9XCJncmV5XCJ9XG5mb3IobGV0IGk9MDtpPHNxO2krKyl7XG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChsZXR0ZXJyKygrbnVtYitpKSkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3J9fVxuZWxzZSBpZihkaXJlY3Rpb249PT1cIkhcIil7XG4gICAgbGV0IEx0ck51bWJlciA9bGV0dGVyci5jaGFyQ29kZUF0KDApXG4gICAgbGV0IG92ZXIgPSA3NS1zcTtcbiAgICAvL2J1aWxkaW5nIGl0IHNvIHdoZW4gdGhlIHVzZXIgc2VsZWN0cyBhIG51bWJlciBpdCBrZWVwcyBpdCB3aXRoaW4gdGhlIGdyaWRcbiAgICBpZihMdHJOdW1iZXI+b3Zlcil7THRyTnVtYmVyID0gb3Zlcn1cbiAgICBmb3IobGV0IGk9MDtpPHNxO2krKyl7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoU3RyaW5nLmZyb21DaGFyQ29kZShMdHJOdW1iZXIrKykgKyBudW1iKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9XCJncmV5XCJ9XG59XG59XG5cbi8vZnVuY3Rpb24gZm9yIHJldHVybmluZyBzcXVhcmUgY29sb3IgdG8gd2hpdGUgYWZ0ZXIgbGVhdmluZ1xuZnVuY3Rpb24gbGVhdmUodCl7dC50YXJnZXQuYmFja2dyb3VuZENvbG9yPVwid2hpdGVcIlxubGV0IG51bWIgPSB0LnRhcmdldC5kYXRhc2V0Lm51bWJlcjtcbmxldCBsZXR0ZXJyID0gdC50YXJnZXQuZGF0YXNldC5sZXR0ZXI7XG5sZXQgaGl0ID0gbGV0dGVycitudW1iO1xuY29uc29sZS5sb2coaGl0KTtcblxuaWYoZGlyZWN0aW9uPT09XCJWXCIpe1xuICAgIGxldCBvdmVyID0gMTEtc3E7XG4gICAgLy9idWlsZGluZyBpdCBzbyB3aGVuIHRoZSB1c2VyIHNlbGVjdHMgYSBudW1iZXIgaXQga2VlcHMgaXQgd2l0aGluIHRoZSBncmlkXG4gICAgaWYobnVtYj5vdmVyKXtudW1iID0gb3Zlcn1cbiAgICBmb3IobGV0IGk9MDtpPHNxO2krKyl7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobGV0dGVycisoK251bWIraSkpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwid2hpdGVcIn19XG4gICAgZWxzZSBpZihkaXJlY3Rpb249PT1cIkhcIil7XG4gICAgICAgIGxldCBMdHJOdW1iZXIgPWxldHRlcnIuY2hhckNvZGVBdCgwKVxuICAgICAgICBsZXQgb3ZlciA9IDc1LXNxO1xuICAgICAgICBcbiAgICAvL2J1aWxkaW5nIGl0IHNvIHdoZW4gdGhlIHVzZXIgc2VsZWN0cyBhIG51bWJlciBpdCBrZWVwcyBpdCB3aXRoaW4gdGhlIGdyaWRcbiAgICBpZihMdHJOdW1iZXI+b3Zlcil7THRyTnVtYmVyID0gb3Zlcn1cbiAgICAgICAgZm9yKGxldCBpPTA7aTxzcTtpKyspe1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChTdHJpbmcuZnJvbUNoYXJDb2RlKEx0ck51bWJlcisrKSArIG51bWIpLnN0eWxlLmJhY2tncm91bmRDb2xvcj1cIndoaXRlXCJ9XG4gICAgfVxuXG4gICAgXG4gICAgfVxuXG4gICAgXG4gICBcbiAgICAgIC8vZnVuY3Rpb24gdGhhdCBhbGxvd3MgdXMgdG8gdXBkYXRlIHRpbGVzIHdpdGhvdXQgY2FycnlpbmcgcHJldmlvdXMgdGlsZXMgb3ZlclxuICAgICAgZnVuY3Rpb24gd2hpdGVPdXQoKXtcbiAgICAgICAgbGV0IGNlbGxzPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNlbGxcIik7XG4gICAgICAgIGZvcihsZXQgaT0wO2k8Y2VsbHMubGVuZ3RoO2krKyl7XG4gICAgICAgICAgICBjZWxsc1tpXS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIndoaXRlXCI7fVxuICAgICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIGF0dGFja0JvYXJkKCl7XG4gICAgICAgIGxldCBzdHJpa2UgPSBwbGF5ZXIxc3RyaWtlcztcbiAgICAgICAgaWYocGlwID09PSBwbGF5ZXJCYXNlWzBdKXtzdHJpa2U9cGxheWVyMXN0cmlrZXN9XG4gICAgZWxzZSBpZihwaXAgPT09IHBsYXllckJhc2VbMV0pe3N0cmlrZT1wbGF5ZXIyc3RyaWtlc30gICAgXG4gICAgZm9yKGxldCBpPTA7aTxzdHJpa2UubGVuZ3RoO2krKyl7XG4gICAgICAgIGNvbnNvbGUubG9nKHN0cmlrZVtpXSlcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3RyaWtlW2ldKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJlZFwiO1xuICAgIH1cblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBsYXllckJvYXJkKCl7XG4gICAgICAgIGxldCBzaG93ID0gcGxheWVyMWNvb3JkO1xuICAgICAgICBpZihwaXAgPT09IHBsYXllckJhc2VbMF0pe3Nob3c9cGxheWVyMWNvb3JkO2NvbnNvbGUubG9nKHNob3cpfVxuICAgIGVsc2UgaWYocGlwID09PSBwbGF5ZXJCYXNlWzFdKXtzaG93PXBsYXllcjJjb29yZDsgY29uc29sZS5sb2coc2hvdyl9IFxuICAgIGZvcihsZXQgaT0wO2k8c2hvdy5sZW5ndGg7aSsrKXtcbiAgICAgICAgZm9yKGxldCBpaT0wO2lpPHNob3dbaV0uY29vcmRpbmF0ZXMubGVuZ3RoO2lpKyspe1xuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzaG93W2ldLmNvb3JkaW5hdGVzW2lpXSkuc3R5bGUuYmFja2dyb3VuZENvbG9yPVwiZ3JleVwiO1xuICAgICAgICAgICAgXG5cbiAgICAgICAgfVxuICAgIH1cbiAgICAgICBcbiAgICB9XG5cbiAgICAvL2Z1bmN0aW9ucyBmb3Igd2hlbiB0aGUgaGl0IGZ1bmN0aW9uIGlzIGluIHBsYXlcbiAgICBmdW5jdGlvbiBoaXRIb3Zlcih0KXtcbiAgICAgICAgaWYodC50YXJnZXQuZGF0YXNldC5udW1iZXI9PT1cIjBcIilcbnt0LnRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9XCJ3aGl0ZVwifWVsc2V7dC50YXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yPVwicmVkXCJ9XG5cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoaXRMZWF2ZSh0KXtcbiAgICAgICAgaWYocGlwID09PSBwbGF5ZXJCYXNlWzBdKXtQaGl0PXQudGFyZ2V0LmRhdGFzZXQuUDFoaXR9XG4gICAgZWxzZSBpZihwaXAgPT09IHBsYXllckJhc2VbMV0pe1BoaXQ9dC50YXJnZXQuZGF0YXNldC5QMmhpdH0gIFxuICAgIGNvbnNvbGUubG9nKFBoaXQpXG4gICAgICAgIGlmKFBoaXQ9PT1cIllcIil7dC50YXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yPVwicmVkXCJ9XG4gICAgICAgIGVsc2UgaWYoUGhpdD09PVwiTlwiKXt0LnRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIndoaXRlXCJ9XG4gICAgfVxuXG5yZXR1cm4ge2hvdmVyLGxlYXZlLGF0dGFja0JvYXJkLHdoaXRlT3V0LGhpdEhvdmVyLGhpdExlYXZlLHBsYXllckJvYXJkfVxufSkoKTtcblxuXG5leHBvcnR7ZG9tTW9kdWxlfSIsImltcG9ydCB7Y2lwLHNlbGVjdGlvbk1vZHVsZX0gZnJvbSAnLi9pbmRleCdcblxuY29uc3QgbW9kYWxNb2R1bGUgPSAoKCkgPT57XG4vLyBHZXQgdGhlIG1vZGFsXG52YXIgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm15TW9kYWxcIik7XG5cbi8vIEdldCB0aGUgYnV0dG9uIHRoYXQgb3BlbnMgdGhlIG1vZGFsXG52YXIgYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJteUJ0blwiKTtcblxuLy9nZXQgdGhlIGNvbnRlbnQgb2YgdGhlIHBhcmFncmFwaFxubGV0IHBhcmExID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwYXJhMVwiKTtcbmxldCBwYXJhMiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGFyYTJcIilcblxuLy8gR2V0IHRoZSA8c3Bhbj4gZWxlbWVudCB0aGF0IGNsb3NlcyB0aGUgbW9kYWxcbnZhciBzcGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNsb3NlXCIpWzBdO1xuXG4vL3BsYXllciBzZWxlY3QgYnV0dG9uc1xubGV0IHBzYnRucyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiUFNidXR0b25zXCIpO1xucHNidG5zLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIlxuXG4vLyBXaGVuIHRoZSB1c2VyIGNsaWNrcyBvbiB0aGUgYnV0dG9uLCBjbG9zZXMgdGhlIG1vZGFsXG5idG4ub25jbGljayA9IGZ1bmN0aW9uKCkge1xuICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJOb25lXCI7XG59XG5cblxuXG4vL3BsYXllciBzZWxlY3QgYnV0dG9uc1xubGV0IGZybmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZybmRcIik7XG5sZXQgY29tcCA9ICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbXBcIik7XG5mdW5jdGlvbiBzaG93TW9kdWxlKCl7XG4gICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICBwYXJhMS50ZXh0Q29udGVudCA9IFwiQ0hBTkdFIFBMQUNFUyFcIlxuICAgIHBhcmEyLnRleHRDb250ZW50ID0gXCJDbGljayBidXR0b24gd2hlbiByZWFkeS5cIlxuICAgIHBzYnRucy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgYnRuLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcblxuIFxufVxuXG5mdW5jdGlvbiBwbGF5ZXJTZWxlY3QoKXtcbiAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICBwYXJhMS50ZXh0Q29udGVudCA9IFwiQXJlIHlvdSBwbGF5aW5nIHdpdGggYSBmcmllbmQgb3IgYWdhaW5zdCBvdXIgQUk/XCJcbiAgICBidG4uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2xvc2VcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG4gICAgcHNidG5zLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cbiAgICBmcm5kLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKT0+e1xuICAgICAgY2lwID0gXCJOXCJcbiAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgIFxuXG4gICAgfSlcblxuICAgY29tcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKCk9PntcbiAgICAgIGNpcCA9IFwiWVwiXG4gICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICBcblxuICAgIH0pXG59XG5cbnJldHVybiB7c2hvd01vZHVsZSxwbGF5ZXJTZWxlY3R9XG59KSgpO1xuXG5leHBvcnQge21vZGFsTW9kdWxlfVxuIiwiaW1wb3J0IHsgY2hvb3NlQ3JkbnRzIH0gZnJvbSBcIi4vY2hvb3NlQ29vcmRpbmF0ZXNcIjtcbmltcG9ydCB7IHBsYXllcjJjb29yZCxzdGFydEdhbWUgfSBmcm9tIFwiLi9pbmRleFwiXG5pbXBvcnQgeyBvdmVyTGFwIH0gZnJvbSBcIi4vb3ZlckxhcFwiO1xuaW1wb3J0IHsgc2hpcGZhY3RvcnkgfSBmcm9tIFwiLi9zaGlwc1wiO1xuXG5cbi8qIFxuVGhlIGNvbXB1dGVyIEFJIG5lZWRzIHRvIGJlIGFibGUgdG8gcmFuZG9tbHkgc2VsZWN0IGl0cycgc2hpcCBwb3NpdGlvbnMuXG5SYW5kb21seSBzZWxlY3QgaXRzJyBoaXQgcG9pbnRzLlxuXG5yYW5kb20gbnVtYmVyIGJldHdlZW4gb25lIGFuZCB0ZW5cbk1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiAxMCkgKyAxKTtcblxuQSBtb3JlIGFkdmFuY2VkIEFJIHdvdWxkIHRoZW4gYmUgYWJsZSB0byBoaXQgYWRqYWNlbnQgZ3JpZHMgd2hlbiBpdCBkZXRlY3RzIGEgaGl0LlxuKi9cblxuXG4vL1dlIG5lZWQgdGhlIGNvbXB1dGVyIHRvIGdlbmVyYXRlIGl0cyBjb29yZGluYXRlcyByYW5kb21seSB0aGVuIHN0YXJ0IHRoZSBnYW1lIFxuXG5jb25zdCBjb21wdXRlckFJID0gKCgpID0+e1xuXG5cblxuZnVuY3Rpb24gcmFuZG9tSW50RnJvbUludGVydmFsKG1pbiwgbWF4KSB7IC8vIG1pbiBhbmQgbWF4IGluY2x1ZGVkIFxuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpICsgbWluKVxufVxuXG4vL3dvcmsgY2xvc2VseSB3aXRoIHNoaXBzLmpzIHRvIGNyYWZ0IHRoaXNcbmZ1bmN0aW9uIHNlbGVjdENhcnJpZXIoKXtcbiAgICAvL2xldHRlciBuZWVkcyB0byBiZSBtb2RpZmllZCB0byBjaHVybiBvdXQgbGV0dGVyIGJldHdlZW4gYSBhbmQgalxuICAgIGxldCByYW5kb21ObyA9IHJhbmRvbUludEZyb21JbnRlcnZhbCg2NSw3NCk7XG4gICAgbGV0IGxldHRlciA9IFN0cmluZy5mcm9tQ2hhckNvZGUocmFuZG9tTm8pO1xuICAgIGxldCBudW1iZXIgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogMTApICsgMSk7XG4gICAgbGV0IGRpciA9IHJhbmRvbUludEZyb21JbnRlcnZhbCgxLDIpO1xuICAgIGxldCBkaXJlY3Rpb24gPSBcIlZcIlxuICAgIGlmKGRpcj09PTEpe2RpcmVjdGlvbj1cIlZcIn1lbHNle2RpcmVjdGlvbj1cIkhcIn1cbiAgICBsZXQgUEMgPSBwbGF5ZXIyY29vcmQ7XG4gICAgbGV0IGd1bm4gPSBuZXcgc2hpcGZhY3RvcnkoXCJDYXJyaWVyXCIsY2hvb3NlQ3JkbnRzKGxldHRlcixudW1iZXIsMixkaXJlY3Rpb24pKVxuICAgIGlmKG92ZXJMYXAoUEMsY2hvb3NlQ3JkbnRzKGxldHRlcixudW1iZXIsMixkaXJlY3Rpb24pKT09PVwiWVwiKXtjb21wdXRlckFJLnNlbGVjdENhcnJpZXIoKX1cbiAgZWxzZXsgXG4gICAgUEMucHVzaChndW5uKTtcbiAgICAvL3Rlc3RpbmcgZmlyc3RcbiAgICBjb21wdXRlckFJLnNlbGVjdEJhdHRsZXNoaXAoKTtcbiAgICBcbn1cbn1cblxuXG5mdW5jdGlvbiBzZWxlY3RCYXR0bGVzaGlwKCl7XG4gIC8vbGV0dGVyIG5lZWRzIHRvIGJlIG1vZGlmaWVkIHRvIGNodXJuIG91dCBsZXR0ZXIgYmV0d2VlbiBhIGFuZCBqXG4gIGxldCByYW5kb21ObyA9IHJhbmRvbUludEZyb21JbnRlcnZhbCg2NSw3NCk7XG4gIGxldCBsZXR0ZXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHJhbmRvbU5vKTtcbiAgbGV0IG51bWJlciA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiAxMCkgKyAxKTtcbiAgbGV0IGRpciA9IHJhbmRvbUludEZyb21JbnRlcnZhbCgxLDIpO1xuICBsZXQgZGlyZWN0aW9uID0gXCJWXCJcbiAgaWYoZGlyPT09MSl7ZGlyZWN0aW9uPVwiVlwifWVsc2V7ZGlyZWN0aW9uPVwiSFwifVxuICBsZXQgUEMgPSBwbGF5ZXIyY29vcmQ7XG4gIGxldCBndW5uID0gbmV3IHNoaXBmYWN0b3J5KFwiQmF0dGxlc2hpcFwiLGNob29zZUNyZG50cyhsZXR0ZXIsbnVtYmVyLDMsZGlyZWN0aW9uKSlcbiAgaWYob3ZlckxhcChQQyxjaG9vc2VDcmRudHMobGV0dGVyLG51bWJlciwzLGRpcmVjdGlvbikpPT09XCJZXCIpe2NvbXB1dGVyQUkuc2VsZWN0QmF0dGxlc2hpcCgpfVxuZWxzZXsgXG4gIFBDLnB1c2goZ3Vubik7XG4gIC8vdGVzdGluZyBmaXJzdFxuICBjb21wdXRlckFJLnNlbGVjdENydWlzZXIoKTtcbiAgXG4gIFxufVxufVxuXG5cbmZ1bmN0aW9uIHNlbGVjdENydWlzZXIoKXtcbiAgLy9sZXR0ZXIgbmVlZHMgdG8gYmUgbW9kaWZpZWQgdG8gY2h1cm4gb3V0IGxldHRlciBiZXR3ZWVuIGEgYW5kIGpcbiAgbGV0IHJhbmRvbU5vID0gcmFuZG9tSW50RnJvbUludGVydmFsKDY1LDc0KTtcbiAgbGV0IGxldHRlciA9IFN0cmluZy5mcm9tQ2hhckNvZGUocmFuZG9tTm8pO1xuICBsZXQgbnVtYmVyID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDEwKSArIDEpO1xuICBsZXQgZGlyID0gcmFuZG9tSW50RnJvbUludGVydmFsKDEsMik7XG4gIGxldCBkaXJlY3Rpb24gPSBcIlZcIlxuICBpZihkaXI9PT0xKXtkaXJlY3Rpb249XCJWXCJ9ZWxzZXtkaXJlY3Rpb249XCJIXCJ9XG4gIGxldCBQQyA9IHBsYXllcjJjb29yZDtcbiAgbGV0IGd1bm4gPSBuZXcgc2hpcGZhY3RvcnkoXCJDcnVpc2VyXCIsY2hvb3NlQ3JkbnRzKGxldHRlcixudW1iZXIsNCxkaXJlY3Rpb24pKVxuICBpZihvdmVyTGFwKFBDLGNob29zZUNyZG50cyhsZXR0ZXIsbnVtYmVyLDQsZGlyZWN0aW9uKSk9PT1cIllcIil7Y29tcHV0ZXJBSS5zZWxlY3RDcnVpc2VyKCl9XG5lbHNleyBcbiAgUEMucHVzaChndW5uKTtcbiAgLy90ZXN0aW5nIGZpcnN0XG4gIGNvbXB1dGVyQUkuc2VsZWN0U3VibWFyaW5lKCk7XG4gIFxufVxufVxuXG5cbmZ1bmN0aW9uIHNlbGVjdFN1Ym1hcmluZSgpe1xuICAvL2xldHRlciBuZWVkcyB0byBiZSBtb2RpZmllZCB0byBjaHVybiBvdXQgbGV0dGVyIGJldHdlZW4gYSBhbmQgalxuICBsZXQgcmFuZG9tTm8gPSByYW5kb21JbnRGcm9tSW50ZXJ2YWwoNjUsNzQpO1xuICBsZXQgbGV0dGVyID0gU3RyaW5nLmZyb21DaGFyQ29kZShyYW5kb21Obyk7XG4gIGxldCBudW1iZXIgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogMTApICsgMSk7XG4gIGxldCBkaXIgPSByYW5kb21JbnRGcm9tSW50ZXJ2YWwoMSwyKTtcbiAgbGV0IGRpcmVjdGlvbiA9IFwiVlwiXG4gIGlmKGRpcj09PTEpe2RpcmVjdGlvbj1cIlZcIn1lbHNle2RpcmVjdGlvbj1cIkhcIn1cbiAgbGV0IFBDID0gcGxheWVyMmNvb3JkO1xuICBsZXQgZ3VubiA9IG5ldyBzaGlwZmFjdG9yeShcIlN1Ym1hcmluZVwiLGNob29zZUNyZG50cyhsZXR0ZXIsbnVtYmVyLDUsZGlyZWN0aW9uKSlcbiAgaWYob3ZlckxhcChQQyxjaG9vc2VDcmRudHMobGV0dGVyLG51bWJlciw1LGRpcmVjdGlvbikpPT09XCJZXCIpe2NvbXB1dGVyQUkuc2VsZWN0U3VibWFyaW5lKCl9XG5lbHNleyBcbiAgUEMucHVzaChndW5uKTtcbiAgLy90ZXN0aW5nIGZpcnN0XG4gIGNvbXB1dGVyQUkuc2VsZWN0RGVzdHJveWVyKCk7XG4gIFxuICBcbn1cbn1cblxuXG5mdW5jdGlvbiBzZWxlY3REZXN0cm95ZXIoKXtcbiAgLy9sZXR0ZXIgbmVlZHMgdG8gYmUgbW9kaWZpZWQgdG8gY2h1cm4gb3V0IGxldHRlciBiZXR3ZWVuIGEgYW5kIGpcbiAgbGV0IHJhbmRvbU5vID0gcmFuZG9tSW50RnJvbUludGVydmFsKDY1LDc0KTtcbiAgbGV0IGxldHRlciA9IFN0cmluZy5mcm9tQ2hhckNvZGUocmFuZG9tTm8pO1xuICBsZXQgbnVtYmVyID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDEwKSArIDEpO1xuICBsZXQgZGlyID0gcmFuZG9tSW50RnJvbUludGVydmFsKDEsMik7XG4gIGxldCBkaXJlY3Rpb24gPSBcIlZcIlxuICBpZihkaXI9PT0xKXtkaXJlY3Rpb249XCJWXCJ9ZWxzZXtkaXJlY3Rpb249XCJIXCJ9XG4gIGxldCBQQyA9IHBsYXllcjJjb29yZDtcbiAgbGV0IGd1bm4gPSBuZXcgc2hpcGZhY3RvcnkoXCJEZXN0cm95ZXJcIixjaG9vc2VDcmRudHMobGV0dGVyLG51bWJlciw2LGRpcmVjdGlvbikpXG4gIGlmKG92ZXJMYXAoUEMsY2hvb3NlQ3JkbnRzKGxldHRlcixudW1iZXIsNixkaXJlY3Rpb24pKT09PVwiWVwiKXtjb21wdXRlckFJLnNlbGVjdERlc3Ryb3llcigpfVxuZWxzZXsgXG4gIFBDLnB1c2goZ3Vubik7XG4gIC8vdGVzdGluZyBmaXJzdFxuICBzdGFydEdhbWUoKTsgIFxuICBcbn1cbn1cbnJldHVybiB7c2VsZWN0Q2FycmllcixzZWxlY3RCYXR0bGVzaGlwLHNlbGVjdENydWlzZXIsc2VsZWN0U3VibWFyaW5lLHNlbGVjdERlc3Ryb3llcn1cbn0pKCk7XG5cblxuZXhwb3J0IHtjb21wdXRlckFJfSIsImltcG9ydCB7R2FtZWJvYXJkTW9kdWxlfSBmcm9tICcuL2dhbWVib2FyZCdcbmltcG9ydCB7Y2FycmllcixiYXR0bGVzaGlwLGNydWlzZXIsc3VibWFyaW5lLGRlc3Ryb3llcn0gZnJvbSAnLi9zaGlwcydcbmltcG9ydCB7ZG9tTW9kdWxlfSBmcm9tICcuL2RvbSdcbmltcG9ydCB7bW9kYWxNb2R1bGV9IGZyb20gJy4vbW9kYWwnXG5pbXBvcnQge2NvbXB1dGVyQUl9IGZyb20gJy4vY29tcHV0ZXJBSSdcblxuLy9jb21wdXRlciBpbiBwbGF5XG5sZXQgY2lwID0gXCJOXCJcbiAgLy9jb29yZGluYXRlcyBvZiBlYWNoIHBsYXllcnMgc2hpcFxuICBsZXQgcGxheWVyMWNvb3JkPVtdO1xuICBsZXQgcGxheWVyMmNvb3JkPVtdO1xuICAvL2Ftb3VudCBvZiBzdW5rIHNoaXBzIGRldGVybWluaW5nIHdoZXRoZXIgdGhlIGdhbWUgaXMgb3ZlciBvciBub3RcbiAgbGV0IHBsYXllcjFTdW5rU2hpcHM9MDtcbiAgbGV0IHBsYXllcjJTdW5rU2hpcHM9MDtcbiAgLy9jb29yZGluYXRlcyBvZiBlYWNoIHRpbGUgaGl0IGJ5IGVhY2ggcGxheWVyXG4gIGxldCBwbGF5ZXIxc3RyaWtlcz1bXVxuICBsZXQgcGxheWVyMnN0cmlrZXM9W11cbiAgLy9WPVZlcnRpY2FsLCBIPUhvcml6b250YWxcbiAgbGV0IGRpcmVjdGlvbiA9IFwiVlwiXG4gIC8vcGxheWVyIGluIHBsYXlcbiAgbGV0IHBsYXllckJhc2UgPSBbXCJwbGF5ZXIxXCIsXCJwbGF5ZXIyXCJdO1xuICBsZXQgcGlwID0gcGxheWVyQmFzZVswXTtcbiAgbGV0IFBjcmQgPSBwbGF5ZXIxY29vcmQ7XG4gIGlmKHBpcCA9PT0gcGxheWVyQmFzZVswXSl7UGNyZCA9IHBsYXllcjFjb29yZDt9XG4gIGVsc2UgaWYocGlwID09PSBwbGF5ZXJCYXNlWzFdKXtQY3JkID0gcGxheWVyMmNvb3JkO31cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwaXBcIikudGV4dENvbnRlbnQgPSBwaXA7XG4gIC8vdGhlIHNxdWFyZXMgdGhhdCBuZWVkIGhpZ2hsaWdodGluZyBmb3IgdGhlIGRvbVxuICBsZXQgc3E7XG4gIGxldCBQaGl0O1xuXG5cbiAgXG4gIFxuXG4vL2J1dHRvbiB0byBjaGFuZ2UgdGhlIHBvc2l0aW9uaW5nIG9mIHRoZSBwbGFjZW1lbnRcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiQ2huZ2VcIikuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCgpPT57aWYoZGlyZWN0aW9uPT09XCJWXCIpe2RpcmVjdGlvbj1cIkhcIjtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvc2l0aW9uXCIpLnRleHRDb250ZW50PVwiSG9yaXpvbnRhbFwiO31lbHNlIGlmKGRpcmVjdGlvbj09PVwiSFwiKXtkaXJlY3Rpb249XCJWXCI7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwb3NpdGlvblwiKS50ZXh0Q29udGVudD1cIlZlcnRpY2FsXCJ9fSlcbi8vYXR0YWNrYm9hcmQgYnV0dG9uIHRoYXQgc2hvd3MgcG9zaXRpb25zIHdoZXJlIHRoZSBwbGF5ZXIgaGFzIGF0dGFja2VkXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNod3NoaXBvc1wiKS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCgpPT57ZG9tTW9kdWxlLndoaXRlT3V0KCk7XG4gICAgZG9tTW9kdWxlLnBsYXllckJvYXJkKCk7XG4gICAgfSlcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2h3c2hpcG9zXCIpLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCgpPT57ZG9tTW9kdWxlLndoaXRlT3V0KCk7XG4gICAgZG9tTW9kdWxlLmF0dGFja0JvYXJkKCk7fSlcblxuLy9mdW5jdGlvbiBjaGFuZ2VzIHBsYXllclxuY29uc3QgY2hhblBsYXllciA9ICgpPT57XG4gICAgbW9kYWxNb2R1bGUuc2hvd01vZHVsZSgpO1xuICAgIGlmKHBpcCA9PT0gcGxheWVyQmFzZVswXSl7cGlwID0gcGxheWVyQmFzZVsxXTtcbiAgICAgICAgUGNyZCA9IHBsYXllcjJjb29yZDtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwaXBcIikudGV4dENvbnRlbnQgPSBwaXA7fVxuICAgIGVsc2UgaWYocGlwID09PSBwbGF5ZXJCYXNlWzFdKXtwaXAgPSBwbGF5ZXJCYXNlWzBdO1xuICAgICAgICBQY3JkID0gcGxheWVyMWNvb3JkO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBpcFwiKS50ZXh0Q29udGVudCA9IHBpcDt9XG4gICAgZWxzZXtwaXAgPSBwbGF5ZXJCYXNlWzBdO1xuICAgICAgICBQY3JkPXBsYXllcjJjb29yZDtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwaXBcIikudGV4dENvbnRlbnQgPSBwaXA7fVxuICAgICAgICBkb21Nb2R1bGUud2hpdGVPdXQoKTtcbiAgICAgICAgZG9tTW9kdWxlLmF0dGFja0JvYXJkKCk7XG5cbn1cblxuXG4vL2JlbG93IGZ1bmN0aW9ucyBuZWVkIHRvIGJlIGdyb3VwZWQgaW50byBhIG1vZHVsZVxuXG5mdW5jdGlvbiBoaXQodCl7Y29uc29sZS5sb2codC50YXJnZXQuZGF0YXNldC5sZXR0ZXIpO1xuICAgIGxldCBQQyA9IHBsYXllcjFjb29yZDtcbiAgICBsZXQgc3RyaWtlID0gcGxheWVyMXN0cmlrZXM7XG4gICAgbGV0IEwgPSB0LnRhcmdldC5kYXRhc2V0LmxldHRlcjtcbiAgICBsZXQgTiA9IHQudGFyZ2V0LmRhdGFzZXQubnVtYmVyO1xuICAgICBsZXQgaGl0Q29vcmQgPSBMK047XG4gICAgY29uc29sZS5sb2coaGl0Q29vcmQpO1xuICAgIGNvbnNvbGUubG9nKFBDLmxlbmd0aCk7IFxuICAgIGlmKHBpcCA9PT0gcGxheWVyQmFzZVswXSl7UEMgPSBwbGF5ZXIyY29vcmQ7c3RyaWtlPXBsYXllcjFzdHJpa2VzO1BoaXQ9dC50YXJnZXQuZGF0YXNldC5QMWhpdH1cbiAgICBlbHNlIGlmKHBpcCA9PT0gcGxheWVyQmFzZVsxXSl7UEMgPSBwbGF5ZXIxY29vcmQ7c3RyaWtlPXBsYXllcjJzdHJpa2VzO1BoaXQ9dC50YXJnZXQuZGF0YXNldC5QMmhpdH1cbiAgICBpZihOPT09XCIwXCIpe2NvbnNvbGUubG9nKFwiU3RheSBpbiB0aGUgZ3JpZC5cIil9XG4gICAgZWxzZSBpZihQaGl0PT09XCJZXCIpe2NvbnNvbGUubG9nKFwiQWxyZWFkeSBiZWVuIGhpdCwgdHJ5IGFnYWluLlwiKX1cbiAgICBlbHNleyAgICAgICBcbiAgICAgICAgaWYocGlwID09PSBwbGF5ZXJCYXNlWzBdKXtQQyA9IHBsYXllcjJjb29yZDtzdHJpa2U9cGxheWVyMXN0cmlrZXM7UGhpdD10LnRhcmdldC5kYXRhc2V0LlAxaGl0PVwiWVwifVxuICAgICAgICBlbHNlIGlmKHBpcCA9PT0gcGxheWVyQmFzZVsxXSl7UEMgPSBwbGF5ZXIxY29vcmQ7c3RyaWtlPXBsYXllcjJzdHJpa2VzO1BoaXQ9dC50YXJnZXQuZGF0YXNldC5QMmhpdD1cIllcIn1cbiAgICBmb3IobGV0IHA9MDtwPFBDLmxlbmd0aDtwKyspe1xuICAgICAgICBmb3IobGV0IGk9MDtpPFBDW3BdLmNvb3JkaW5hdGVzLmxlbmd0aDtpKyspe1xuICAgICAgICBpZihQQ1twXS5jb29yZGluYXRlc1tpXT09PWhpdENvb3JkKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFBDW3BdLmNvb3JkaW5hdGVzKVxuICAgICAgICAgICAgUENbcF0uY29vcmRpbmF0ZXMuc3BsaWNlKGksMSlcbiAgICAgICAgUENbcF0uaGl0U2hpcCgpO1xuICAgICAgICBQQ1twXS5pc1N1bmsoKTsgICAgXG4gICAgICAgIFxuICAgICAgICBnYW1lT3ZlcigpO1xuICAgICAgICBjb25zb2xlLmxvZyhQQ1twXS5jb29yZGluYXRlcylcbiAgICAgICAgY29uc29sZS5sb2coXCJQbGF5ZXIgb25lIHN1bmsgc2hpcHM6IFwiKyBwbGF5ZXIxU3Vua1NoaXBzKSAgXG4gICAgICAgIGNvbnNvbGUubG9nKFwiUGxheWVyIHR3byBzdW5rIHNoaXBzOiBcIisgcGxheWVyMlN1bmtTaGlwcykgIFxuICAgICAgICBcbiAgICAgICAgfX1cbiAgICB9c3RyaWtlLnB1c2goaGl0Q29vcmQpICAgIFxuICAgICAgICBjb25zb2xlLmxvZyhcIlAxIHN0cmlrZXM6IFwiKyBwbGF5ZXIxc3RyaWtlcylcbiAgICAgICAgY29uc29sZS5sb2coXCJQMiBzdHJpa2VzOiBcIisgcGxheWVyMnN0cmlrZXMpXG4gICAgICAgIFxuICAgIGNoYW5QbGF5ZXIoKX19XG5cblxuIGZ1bmN0aW9uIGdhbWVPdmVyKCl7XG4gICAgbGV0IGNvdW50ID0wO1xuICAgIGxldCBQQyA9IHBsYXllcjFjb29yZDtcbiAgICBsZXQgcGxyO1xuICAgIGlmKHBpcCA9PT0gcGxheWVyQmFzZVswXSl7UEMgPSBwbGF5ZXIyY29vcmQ7IHBscj1cIlBsYXllciBPbmVcIn1cbiAgICBlbHNlIGlmKHBpcCA9PT0gcGxheWVyQmFzZVsxXSl7UEMgPSBwbGF5ZXIxY29vcmQ7IHBscj1cIlBsYXllciBUd29cIn1cbiAgICBmb3IobGV0IGkgPTA7aTxQQy5sZW5ndGg7aSsrKXtcbiAgICAgICBpZihQQ1tpXS5jb29yZGluYXRlcy5sZW5ndGg9PT0wKXsrK2NvdW50fVxuICAgIH1cbiAgICBjb25zb2xlLmxvZyhjb3VudCk7XG4gICAgaWYoY291bnQ9PT01KXthbGVydCggcGxyKyBcIiBoYXMgd29uIVwiKX1cbiAgICB9XG4gICAgXG5cbmZ1bmN0aW9uIHN0YXJ0R2FtZSgpe1xuICAgIC8vbnVtYmVyIG5lZWRzIHRvIGJlIGNoYW5nZWQgdG8gNFxuICAgIGlmKFBjcmQubGVuZ3RoPjEpe1xuICAgICAgICBpZihjaXA9PT1cIllcIil7XG4gICAgICAgICAgICBhbGVydChcIlRFU1RcIilcbiAgICAgICAgICAgIHNxPTFcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IGNlbGxzPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNlbGxcIik7XG5mb3IobGV0IGk9MDtpPGNlbGxzLmxlbmd0aDtpKyspe1xuY2VsbHNbaV0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ3aGl0ZVwiO1xuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbmdhbWVidXR0b25zXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvc2l0aW9uUGFyYVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkNobmdlXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICB9IHBsYXlHYW1lKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICBzcT0xXG4gICAgY2hhblBsYXllcigpO1xuICAgIGxldCBjZWxscz0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jZWxsXCIpO1xuZm9yKGxldCBpPTA7aTxjZWxscy5sZW5ndGg7aSsrKXtcbiAgICBjZWxsc1tpXS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsZGVzdHJveWVyKSBcbmNlbGxzW2ldLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxzdGFydEdhbWUpXG5jZWxsc1tpXS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIndoaXRlXCI7XG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImluZ2FtZWJ1dHRvbnNcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9zaXRpb25QYXJhXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiQ2huZ2VcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xufVxucGxheUdhbWUoKX19fVxuICAgIFxuICAgIFxuZnVuY3Rpb24gcGxheUdhbWUoKXtcbiAgICBcbiAgICBsZXQgY2VsbHM9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2VsbFwiKTtcbmZvcihsZXQgaT0wO2k8Y2VsbHMubGVuZ3RoO2krKyl7XG5cbmNlbGxzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxoaXQpXG5jZWxsc1tpXS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIndoaXRlXCI7XG5jZWxsc1tpXS5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLGRvbU1vZHVsZS5ob3ZlcilcbmNlbGxzW2ldLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLGRvbU1vZHVsZS5sZWF2ZSlcbmNlbGxzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsZG9tTW9kdWxlLmhpdEhvdmVyKVxuY2VsbHNbaV0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsZG9tTW9kdWxlLmhpdExlYXZlKVxuXG5cbn1cbn1cblxuXG5cbi8vU2VsZWN0aW9uIG1vZHVsZVxuY29uc3Qgc2VsZWN0aW9uTW9kdWxlID0gKCgpID0+e1xuICAgIFxuICAgIFxuXG4gICAgICAgIFxuICAgIC8vYWRkcyBhbiBldmVudCBsaXN0ZW5lciB0byBldmVyeSBncmlkIGNlbGwgYWxsb3dpbmcgdXMgdG8gY2hvb3NlIG91ciBjb29yZGluYXRlcyxtYXAgdGhlbSB0byB0aGUgYXJyYXkgdGhlbiBjaGFuZ2UgcGxheWVyXG4gICAgZnVuY3Rpb24gcDFjYXJyaWVyU2hpcCgpe1xuICAgICAgIFxuICAgICAgICBsZXQgY2VsbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNlbGxcIilcbiAgICAgICAgLy9zcSBpcyBjb250cm9sbGluZyB0aGUgaGlnaGxpZ2h0aW5nIG51bWJlclxuICAgICAgICBzcT0yO1xuICAgICAgICBmb3IobGV0IGk9MDtpPGNlbGxzLmxlbmd0aDtpKyspe1xuICAgICAgICAgICAgY2VsbHNbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLGNhcnJpZXIpIFxuICAgICAgICAgICAgY2VsbHNbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLHNlbGVjdGlvbk1vZHVsZS5wMWJhdHRsZVNoaXApIFxuICAgICAgICAgICAgY2VsbHNbaV0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJyxkb21Nb2R1bGUuaG92ZXIpXG4gICAgICAgIGNlbGxzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLGRvbU1vZHVsZS5sZWF2ZSlcbiAgICAgICAgfVxuICAgICAgICB9XG4gICAgZnVuY3Rpb24gcDFiYXR0bGVTaGlwKCl7ICAgXG4gICAgICAgIFxuICAgICAgICBpZihQY3JkLmxlbmd0aD4wKXtcbiAgICAgICAgXG4gICAgICAgIGxldCBjZWxscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2VsbFwiKVxuICAgICAgICBcbiAgICAgICAgLy9zcSBpcyBjb250cm9sbGluZyB0aGUgaGlnaGxpZ2h0aW5nIG51bWJlclxuICAgICAgICBzcT0zO1xuICAgICAgICBmb3IobGV0IGk9MDtpPGNlbGxzLmxlbmd0aDtpKyspe1xuICAgICAgICAgICAgY2VsbHNbaV0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLGNhcnJpZXIpIFxuICAgICAgICAgICAgY2VsbHNbaV0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLHNlbGVjdGlvbk1vZHVsZS5wMWJhdHRsZVNoaXApIFxuICAgICAgICAgICAgY2VsbHNbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLGJhdHRsZXNoaXApIFxuICAgICAgICAgICAgLy9pZiBjb29yZGluYXRlcyBtYXRjaCBsZW5ndGggbmVlZGVkIG1vdmUgb250byBuZXh0IHBhcnRcbiAgICAgICAgICAgIGNlbGxzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxzZWxlY3Rpb25Nb2R1bGUucDFjcnVpc2VyU2hpcCkgXG4gICAgICAgICAgICBjZWxsc1tpXS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLGRvbU1vZHVsZS5ob3ZlcilcbiAgICAgICAgY2VsbHNbaV0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsZG9tTW9kdWxlLmxlYXZlKVxuICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG5cbiAgICBmdW5jdGlvbiBwMWNydWlzZXJTaGlwKCl7XG5cbiAgICAgICAgaWYoUGNyZC5sZW5ndGg+MSl7XG4gICAgICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKFBjcmQpXG4gICAgICAgIGxldCBjZWxscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2VsbFwiKVxuICAgICAgICBcbiAgICAgICAgLy9zcSBpcyBjb250cm9sbGluZyB0aGUgaGlnaGxpZ2h0aW5nIG51bWJlclxuICAgICAgICBzcT00O1xuICAgICAgICBmb3IobGV0IGk9MDtpPGNlbGxzLmxlbmd0aDtpKyspe1xuICAgICAgICAgICAgY2VsbHNbaV0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLGJhdHRsZXNoaXApIFxuICAgICAgICAgICAgY2VsbHNbaV0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLHNlbGVjdGlvbk1vZHVsZS5wMWNydWlzZXJTaGlwKSBcbiAgICAgICAgICAgIGNlbGxzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxjcnVpc2VyKSBcbiAgICAgICAgICAgIGNlbGxzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxzZWxlY3Rpb25Nb2R1bGUucDFzdWJtYXJpbmVTaGlwKSBcbiAgICAgICAgICAgIGNlbGxzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsZG9tTW9kdWxlLmhvdmVyKVxuICAgICAgICBjZWxsc1tpXS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJyxkb21Nb2R1bGUubGVhdmUpXG4gICAgICAgIH1cbiAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcDFzdWJtYXJpbmVTaGlwKCl7XG5cbiAgICAgICAgaWYoUGNyZC5sZW5ndGg+Mil7XG4gICAgICAgIFxuICAgICAgICBsZXQgY2VsbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNlbGxcIilcbiAgICAgICAgXG4gICAgICAgIC8vc3EgaXMgY29udHJvbGxpbmcgdGhlIGhpZ2hsaWdodGluZyBudW1iZXJcbiAgICAgICAgc3E9NTtcbiAgICAgICAgZm9yKGxldCBpPTA7aTxjZWxscy5sZW5ndGg7aSsrKXtcbiAgICAgICAgICAgIGNlbGxzW2ldLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxjcnVpc2VyKSBcbiAgICAgICAgICAgIGNlbGxzW2ldLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxzZWxlY3Rpb25Nb2R1bGUucDFzdWJtYXJpbmVTaGlwKSBcbiAgICAgICAgICAgIGNlbGxzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxzdWJtYXJpbmUpIFxuICAgICAgICAgICAgY2VsbHNbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLHNlbGVjdGlvbk1vZHVsZS5wMWRlc3Ryb3llclNoaXApIFxuICAgICAgICAgICAgY2VsbHNbaV0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJyxkb21Nb2R1bGUuaG92ZXIpXG4gICAgICAgIGNlbGxzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLGRvbU1vZHVsZS5sZWF2ZSlcbiAgICAgICAgfVxuICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwMWRlc3Ryb3llclNoaXAoKXtcblxuICAgICAgICBpZihQY3JkLmxlbmd0aD4zKXtcbiAgICAgICAgbGV0IGNlbGxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jZWxsXCIpXG4gICAgICAgIFxuICAgICAgICAvL3NxIGlzIGNvbnRyb2xsaW5nIHRoZSBoaWdobGlnaHRpbmcgbnVtYmVyXG4gICAgICAgIHNxPTY7XG4gICAgICAgIGZvcihsZXQgaT0wO2k8Y2VsbHMubGVuZ3RoO2krKyl7XG4gICAgICAgICAgICBjZWxsc1tpXS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsc3VibWFyaW5lKSBcbiAgICAgICAgICAgIGNlbGxzW2ldLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxzZWxlY3Rpb25Nb2R1bGUucDFkZXN0cm95ZXJTaGlwKSBcbiAgICAgICAgICAgIGNlbGxzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxkZXN0cm95ZXIpIFxuICAgICAgICAgICAgLy90aGlzIGRlY2lkZXMgd2hldGhlciB0aGUgZ2FtZSBzdGFydHMgYWZ0ZXIgcGxheWVyIHR3byBvciB0aGUgY29tcHV0ZXIgaGFzIHNlbGVjdGVkIHRoZWlyIGdyaWRzXG4gICAgICAgICAgICAvL2lmIG5vdCBpdCBsb29wcyBhcm91bmRcbiAgICAgICAgICAgIGlmKHBpcCA9PT0gcGxheWVyQmFzZVsxXSl7Y2VsbHNbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLHN0YXJ0R2FtZSl9XG4gICAgICAgZWxzZSBpZihwaXAgPT09IHBsYXllckJhc2VbMF0pe2NlbGxzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxzZWxlY3Rpb25Nb2R1bGUubG9vcCkgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjZWxsc1tpXS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLGRvbU1vZHVsZS5ob3ZlcilcbiAgICAgICAgY2VsbHNbaV0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsZG9tTW9kdWxlLmxlYXZlKVxuICAgICAgICB9XG4gICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvb3AoKXtcbiAgICAgICAgaWYoUGNyZC5sZW5ndGg+NCl7XG5cbiAgICAgICAgICAgIGlmKGNpcD09PVwiWVwiKXtcbiAgICAgICAgICAgICAgICBjaGFuUGxheWVyKCk7XG4gICAgICAgICAgICAgICAgbGV0IGNlbGxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jZWxsXCIpXG4gICAgXG4gICAgICAgIGZvcihsZXQgaT0wO2k8Y2VsbHMubGVuZ3RoO2krKyl7XG4gICAgICAgICAgICBjZWxsc1tpXS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsZGVzdHJveWVyKSBcbiAgICAgICAgICAgIGNlbGxzW2ldLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxzZWxlY3Rpb25Nb2R1bGUubG9vcCkgXG4gICAgICAgICAgICBjZWxsc1tpXS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIndoaXRlXCI7XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29tcHV0ZXJBSS5zZWxlY3RDYXJyaWVyKCk7fVxuICAgICAgICAgICAgZWxzZXtcblxuICAgICAgICAvL1RoaXMgZnVuY3Rpb24gdHVybnMgdGhlIHNlbGVjdGlvbiBwcm9jZXNzIG92ZXIgdG8gZWl0aGVyIGEgY29tcHV0ZXIgb3IgcGxheWVyIDJcbiAgICAvL2p1c3QgZG9pbmcgcGxheWVyIDIgaW1wbGVtZXRhdGlvbiBmb3Igbm93XG4gICAgY2hhblBsYXllcigpO1xuICAgICAgICBsZXQgY2VsbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNlbGxcIilcbiAgICBcbiAgICAgICAgZm9yKGxldCBpPTA7aTxjZWxscy5sZW5ndGg7aSsrKXtcbiAgICAgICAgICAgIGNlbGxzW2ldLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxkZXN0cm95ZXIpIFxuICAgICAgICAgICAgY2VsbHNbaV0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLHNlbGVjdGlvbk1vZHVsZS5sb29wKSBcbiAgICAgICAgICAgIGNlbGxzW2ldLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwid2hpdGVcIjtcbiAgICB9XG5zZWxlY3Rpb25Nb2R1bGUucDFjYXJyaWVyU2hpcCgpO1xufVxuICAgIH19XG5cblxuICAgIFxuICAgICAgICByZXR1cm57cDFjYXJyaWVyU2hpcCxwMWJhdHRsZVNoaXAscDFjcnVpc2VyU2hpcCxwMXN1Ym1hcmluZVNoaXAscDFkZXN0cm95ZXJTaGlwLGxvb3B9XG4gICAgXG4gICAgfSkoKTtcblxuXG5cblxuICAgbW9kYWxNb2R1bGUucGxheWVyU2VsZWN0KCk7XG4gICAgR2FtZWJvYXJkTW9kdWxlLmNyZWF0ZUdhbWVib2FyZCgpO1xuc2VsZWN0aW9uTW9kdWxlLnAxY2FycmllclNoaXAoKTtcblxuLy90ZXN0aW5nIGhpdCBmdW5jdGlvblxuLy9wbGF5R2FtZSgpO1xuXG5cblxuZXhwb3J0IHtzdGFydEdhbWUsc2VsZWN0aW9uTW9kdWxlLGNpcCxQaGl0LHNxLGRpcmVjdGlvbixwaXAscGxheWVyMWNvb3JkLHBsYXllcjJjb29yZCxwbGF5ZXJCYXNlLGNoYW5QbGF5ZXIscGxheWVyMVN1bmtTaGlwcyxwbGF5ZXIyU3Vua1NoaXBzLHBsYXllcjFzdHJpa2VzLHBsYXllcjJzdHJpa2VzfVxuXG5cblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcblxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiR2FtZWJvYXJkTW9kdWxlIiwiY3JlYXRlR3JpZHMiLCJsdHIiLCJubyIsImlkIiwiZ3JpZCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwicGFkZGluZyIsImJvcmRlciIsInRleHRDb250ZW50IiwidGV4dEFsaWduIiwiZGF0YXNldCIsImhpdCIsIlAxaGl0IiwiUDJoaXQiLCJsZXR0ZXIiLCJudW1iZXIiLCJjbGFzc0xpc3QiLCJhZGQiLCJzZXRBdHRyaWJ1dGUiLCJnZXRFbGVtZW50QnlJZCIsImFwcGVuZENoaWxkIiwiY3JlYXRlR2FtZWJvYXJkIiwiaSIsImNob29zZUNyZG50cyIsIlN0cnRMdHRycyIsIlN0cnRObyIsImxlbmd0aCIsIlZvckgiLCJjb29yZCIsIm92ZXIiLCJwdXNoIiwiTHRyTnVtYmVyIiwiY2hhckNvZGVBdCIsImNvbnNvbGUiLCJsb2ciLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJvdmVyTGFwIiwiYSIsImIiLCJwbGMiLCJjcmQiLCJvdnJsYXAiLCJ6IiwicCIsImNvb3JkaW5hdGVzIiwic2hpcGZhY3RvcnkiLCJuYW1lIiwidGhpcyIsImhpdFNoaXAiLCJhbGVydCIsImlzU3VuayIsImNvb3JkaWQiLCJjYXJyaWVyIiwidCIsInRhcmdldCIsImJhY2tncm91bmRDb2xvciIsIlBDIiwiZ3VubiIsImRpcmVjdGlvbiIsInBpcCIsInBsYXllckJhc2UiLCJwbGF5ZXIxY29vcmQiLCJwbGF5ZXIyY29vcmQiLCJiYXR0bGVzaGlwIiwiY3J1aXNlciIsInN1Ym1hcmluZSIsImRlc3Ryb3llciIsImRvbU1vZHVsZSIsIm51bWIiLCJsZXR0ZXJyIiwiY29sb3IiLCJzcSIsInN0cmlrZSIsInBsYXllcjFzdHJpa2VzIiwicGxheWVyMnN0cmlrZXMiLCJjZWxscyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJQaGl0Iiwic2hvdyIsImlpIiwibW9kYWxNb2R1bGUiLCJtb2RhbCIsImJ0biIsInBhcmExIiwicGFyYTIiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwicHNidG5zIiwiZGlzcGxheSIsIm9uY2xpY2siLCJmcm5kIiwiY29tcCIsInNob3dNb2R1bGUiLCJwbGF5ZXJTZWxlY3QiLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNpcCIsImNvbXB1dGVyQUkiLCJyYW5kb21JbnRGcm9tSW50ZXJ2YWwiLCJtaW4iLCJtYXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzZWxlY3RDYXJyaWVyIiwicmFuZG9tTm8iLCJzZWxlY3RCYXR0bGVzaGlwIiwic2VsZWN0Q3J1aXNlciIsInNlbGVjdFN1Ym1hcmluZSIsInNlbGVjdERlc3Ryb3llciIsInN0YXJ0R2FtZSIsIlBjcmQiLCJjaGFuUGxheWVyIiwiTCIsIk4iLCJoaXRDb29yZCIsInNwbGljZSIsImdhbWVPdmVyIiwicGxyIiwiY291bnQiLCJwbGF5R2FtZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzZWxlY3Rpb25Nb2R1bGUiLCJwMWNhcnJpZXJTaGlwIiwicDFiYXR0bGVTaGlwIiwicDFjcnVpc2VyU2hpcCIsInAxc3VibWFyaW5lU2hpcCIsInAxZGVzdHJveWVyU2hpcCIsImxvb3AiXSwic291cmNlUm9vdCI6IiJ9