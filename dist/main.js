(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{jK:()=>b,zf:()=>S,o5:()=>V,o7:()=>N,bF:()=>q,P4:()=>A,VL:()=>L,hJ:()=>w,yR:()=>B,He:()=>I,w7:()=>Y,q2:()=>x,UX:()=>H,sq:()=>E,t:()=>D,Nn:()=>M});const t={createGrids:(e,t,n)=>{let o=document.createElement("div");o.style.padding="10px",o.style.border=0===n||0===t?"none":"solid black 2px",o.textContent=n,o.style.textAlign="center",0===n&&"0"===e?o.textContent=t:0===t&&"0"!=e&&(o.textContent=e),o.dataset.hit="No",o.dataset.P1hit="N",o.dataset.P2hit="N",o.dataset.letter=e,o.dataset.number=t,o.classList.add("cell"),o.setAttribute("id",o.dataset.letter+o.dataset.number),document.getElementById("gameboard1").appendChild(o)},createGameboard:()=>{for(let e=0;e<11;e++)t.createGrids("0",0,e),t.createGrids("A",e),t.createGrids("B",e),t.createGrids("C",e),t.createGrids("D",e),t.createGrids("E",e),t.createGrids("F",e),t.createGrids("G",e),t.createGrids("H",e),t.createGrids("I",e),t.createGrids("J",e)}};function n(e,t,n,o){let l=[];if("V"===o){let o=11-n;t>o&&(t=o);for(let o=1;o<n+1;o++)l.push(e+t++)}else if("H"===o){let o=e.charCodeAt(0),r=75-n;o>r&&(o=r),console.log(o),console.log(r);for(let e=1;e<n+1;e++)l.push(String.fromCharCode(o++)+t)}return l}function o(e,t){let n=e,o=t,l=0;for(let e=0;e<o.length;e++)for(let t=0;t<n.length;t++)for(let r=0;r<n[t].coordinates.length;r++)n[t].coordinates[r]===o[e]&&l++;return l=l>0?"Y":"N",l}function l(e,t){this.name=e,this.coordinates=t,this.hitShip=t=>{if(alert("Struck the "+e+" ship"),"Y"===S&&A===Y[1]){alert("well done computer"),alert(t+" has been hit.");for(let n=0;n<V.length;n++)e===V[n].name&&(V[n].coordinates.push(t),0===V[n].functionCount?V[n].functionCount++:V[n].functionCount>0&&V[n].functionCount)}},this.isSunk=()=>{0===t.length&&alert("Sunk the "+e+" ship")}}let r;const s=e=>{e.target.style.backgroundColor="red";let t,o=e.target.dataset.letter,s=e.target.dataset.number,a=new l("Carrier",n(o,s,2,N));return"0"===s?console.log("Stay in the grid."):(A===Y[0]?(t=L,r="p1c"):A===Y[1]&&(t=B,r="p2c"),t.push(a)),t},a=e=>{e.target.style.backgroundColor="red";let t,s=e.target.dataset.letter,a=e.target.dataset.number,i=new l("Battleship",n(s,a,3,N));return"0"===a?console.log("Stay in the grid."):(A===Y[0]?(t=L,r="p1c"):A===Y[1]&&(t=B,r="p2c"),"Y"===o(t,n(s,a,3,N))?alert("These tiles have already been assigned, please choose different tiles"):t.push(i)),t},i=e=>{e.target.style.backgroundColor="red";let t,s=e.target.dataset.letter,a=e.target.dataset.number,i=new l("Cruiser",n(s,a,4,N));return"0"===a?console.log("Stay in the grid."):(A===Y[0]?(t=L,r="p1c"):A===Y[1]&&(t=B,r="p2c"),"Y"===o(t,n(s,a,4,N))?alert("These tiles have already been assigned, please choose different tiles"):t.push(i)),t},c=e=>{e.target.style.backgroundColor="red";let t,s=e.target.dataset.letter,a=e.target.dataset.number,i=new l("Submarine",n(s,a,5,N));return"0"===a?console.log("Stay in the grid."):(A===Y[0]?(t=L,r="p1c"):A===Y[1]&&(t=B,r="p2c"),"Y"===o(t,n(s,a,5,N))?alert("These tiles have already been assigned, please choose different tiles"):t.push(i)),t},d=e=>{e.target.style.backgroundColor="red";let t,s=e.target.dataset.letter,a=e.target.dataset.number,i=new l("Destroyer",n(s,a,6,N));return"0"===a?console.log("Stay in the grid."):(A===Y[0]?(t=L,r="p1c"):A===Y[1]&&(t=B,r="p2c"),"Y"===o(t,n(s,a,6,N))?alert("These tiles have already been assigned, please choose different tiles"):t.push(i)),t},u=function(e){let t=e.target.dataset.number,n=e.target.dataset.letter,o="blue";if("V"===N){let e=11-E;t>e&&(t=e),o="0"===t?"white":"grey";for(let e=0;e<E;e++)document.getElementById(n+(+t+e)).style.backgroundColor=o}else if("H"===N){let e=n.charCodeAt(0),o=75-E;e>o&&(e=o);for(let n=0;n<E;n++)document.getElementById(String.fromCharCode(e++)+t).style.backgroundColor="grey"}},g=function(e){e.target.backgroundColor="white";let t=e.target.dataset.number,n=e.target.dataset.letter,o=n+t;if(console.log(o),"V"===N){let e=11-E;t>e&&(t=e);for(let e=0;e<E;e++)document.getElementById(n+(+t+e)).style.backgroundColor="white"}else if("H"===N){let e=n.charCodeAt(0),o=75-E;e>o&&(e=o);for(let n=0;n<E;n++)document.getElementById(String.fromCharCode(e++)+t).style.backgroundColor="white"}},h=function(){let e=w;A===Y[0]?e=w:A===Y[1]&&(e=I);for(let t=0;t<e.length;t++)document.getElementById(e[t]).style.backgroundColor="red"},m=function(){let e=document.querySelectorAll(".cell");for(let t=0;t<e.length;t++)e[t].style.backgroundColor="white"},y=function(e){"0"===e.target.dataset.number?e.target.style.backgroundColor="white":e.target.style.backgroundColor="red"},f=function(e){A===Y[0]?b=e.target.dataset.P1hit:A===Y[1]&&(b=e.target.dataset.P2hit),"Y"===b?e.target.style.backgroundColor="red":"N"===b&&(e.target.style.backgroundColor="white")},p=function(){let e=L;A===Y[0]?(e=L,console.log(e)):A===Y[1]&&(e=B,console.log(e));for(let t=0;t<e.length;t++)for(let n=0;n<e[t].coordinates.length;n++)document.getElementById(e[t].coordinates[n]).style.backgroundColor="grey"},C=(()=>{var e=document.getElementById("myModal"),t=document.getElementById("myBtn");let n=document.getElementById("para1"),o=document.getElementById("para2");document.getElementsByClassName("close")[0];let l=document.getElementById("PSbuttons");l.style.display="none";let r=document.getElementById("compHit");function s(){e.style.display="none"}r.style.display="none",t.onclick=function(){e.style.display="None"};let a=document.getElementById("frnd"),i=document.getElementById("comp");return{showModule:function(){e.style.display="block",n.textContent="CHANGE PLACES!",o.textContent="Click button when ready.",l.style.display="none",t.style.display="block"},playerSelect:function(){e.style.display="block",n.textContent="Are you playing with a friend or against our AI?",t.style.display="none",document.querySelector(".close").style.display="none",l.style.display="block",a.addEventListener("click",(()=>{S="N",e.style.display="none"})),i.addEventListener("click",(()=>{S="Y",e.style.display="none"}))},compHitModal:function(){e.style.display="block",n.textContent="Please click the button below to activate the AI choice!",t.style.display="none",r.style.display="block",document.querySelector(".close").style.display="none",l.style.display="none",r.addEventListener("click",q),r.addEventListener("click",s)},closeModal:s}})(),v=(()=>{const e=(e,t)=>{let n,o=0;for(let n=0;n<t.length;n++)e===t[n]&&o++;return n=o>0?"Y":"N",n};return{moveDown:(t,n)=>{let o=t.slice(0,1),l=t.slice(1,2),r=o.charCodeAt(0),s=String.fromCharCode(++r),a=0;for(;a<10;)if("N"===e(s+l,n))s=String.fromCharCode(++r),a++;else if("Y"===e(s+l,n))break;return s+l},moveUp:(t,n)=>{let o=t.slice(0,1),l=t.slice(1,2),r=o.charCodeAt(0),s=String.fromCharCode(--r),a=0;for(;a<10;)if("N"===e(s+l,n))s=String.fromCharCode(--r),a++;else if("Y"===e(s+l,n))break;return s+l},moveFwd:(t,n)=>{let o=t.slice(0,1),l=t.slice(1,2),r=parseInt(l),s=++r,a=0;for(;a<10;)if("N"===e(o+s,n))s=++r,a++;else if("Y"===e(o+s,n))break;return o+s},moveBck:(t,n)=>{let o=t.slice(0,1),l=t.slice(1,2),r=parseInt(l),s=--r,a=0;for(;a<10;)if("N"===e(o+s,n))s=--r,a++;else if("Y"===e(o+s,n))break;return o+s},match:e}})(),k=(()=>{function e(e,t){return Math.floor(Math.random()*(t-e+1)+e)}return{hit:function(){let t;console.log(H),console.log(V);let n=0;for(;n<=V.length;){if(n===V.length){alert("NONONONONON"),x=e(0,M.length-1);break}if(V[n].coordinates.length>0){alert(V[n].name);let e=V[n],o=e.coordinates[e.coordinates.length-1];t=V[n].functionCount;let l=V[n].sunk;if(alert(t),1===t&&"N"===l){let e=v.moveDown(o,M);alert(e),x=M.indexOf(e)}else if(2===t&&"N"===l){let e=v.moveUp(o,M);alert(e),x=M.indexOf(e)}else if(3===t&&"N"===l){let e=v.moveFwd(o,M);alert(e),x=M.indexOf(e)}else if(4===t&&"N"===l){let e=v.moveBck(o,M);alert(e),x=M.indexOf(e)}break}0===V[n].coordinates.length&&n++}let o=M[x];return M.splice(x,1),console.log("Random no: "+x),console.log("Length: "+M.length),console.log(M),o},selectCarrier:function(){let t=e(65,74),r=String.fromCharCode(t),s=Math.floor(10*Math.random()+1),a="V";a=1===e(1,2)?"V":"H";let i=B,c=new l("Carrier",n(r,s,2,a));"Y"===o(i,n(r,s,2,a))?k.selectCarrier():(i.push(c),k.selectBattleship())},selectBattleship:function(){let t=e(65,74),r=String.fromCharCode(t),s=Math.floor(10*Math.random()+1),a="V";a=1===e(1,2)?"V":"H";let i=B,c=new l("Battleship",n(r,s,3,a));"Y"===o(i,n(r,s,3,a))?k.selectBattleship():(i.push(c),k.selectCruiser())},selectCruiser:function(){let t=e(65,74),r=String.fromCharCode(t),s=Math.floor(10*Math.random()+1),a="V";a=1===e(1,2)?"V":"H";let i=B,c=new l("Cruiser",n(r,s,4,a));"Y"===o(i,n(r,s,4,a))?k.selectCruiser():(i.push(c),k.selectSubmarine())},selectSubmarine:function(){let t=e(65,74),r=String.fromCharCode(t),s=Math.floor(10*Math.random()+1),a="V";a=1===e(1,2)?"V":"H";let i=B,c=new l("Submarine",n(r,s,5,a));"Y"===o(i,n(r,s,5,a))?k.selectSubmarine():(i.push(c),k.selectDestroyer())},selectDestroyer:function(){let t=e(65,74),r=String.fromCharCode(t),s=Math.floor(10*Math.random()+1),a="V";a=1===e(1,2)?"V":"H";let i=B,c=new l("Destroyer",n(r,s,6,a));"Y"===o(i,n(r,s,6,a))?k.selectDestroyer():(i.push(c),D())},randomIntFromInterval:e,targetArray:function(){for(let e=65;e<75;e++)for(let t=1;t<3;t++)M.push(String.fromCharCode(e)+t)}}})();let E,b,S="N",L=[],B=[],w=[],I=[],N="V",Y=["player1","player2"],A=Y[0],P=L;A===Y[0]?P=L:A===Y[1]&&(P=B),document.getElementById("pip").textContent=A;let x,M=[],H=0;k.targetArray(),console.log(M),console.log("YERT");let V=[{name:"Carrier",coordinates:[],sunk:"N",functionCount:0},{name:"Battleship",coordinates:[],sunk:"N",functionCount:0},{name:"Cruiser",coordinates:[],sunk:"N",functionCount:0},{name:"Submarine",coordinates:[],sunk:"N",functionCount:0},{name:"Destroyer",coordinates:[],sunk:"N",functionCount:0}];document.getElementById("Chnge").addEventListener("click",(()=>{"V"===N?(N="H",document.getElementById("position").textContent="Horizontal"):"H"===N&&(N="V",document.getElementById("position").textContent="Vertical")})),document.getElementById("shwshipos").addEventListener("mouseover",(()=>{m(),p()})),document.getElementById("shwshipos").addEventListener("mouseleave",(()=>{m(),h()})),console.log("HEYEE");const G=()=>{let e;e="Y"===S?C.compHitModal():C.showModule(),A===Y[0]?(A=Y[1],P=B,document.getElementById("pip").textContent=A):A===Y[1]?(A=Y[0],P=L,document.getElementById("pip").textContent=A):(A=Y[0],P=B,document.getElementById("pip").textContent=A),m(),h()};function q(e){console.log(e.target.dataset.letter),console.log(A);let t,n,o,l=L,r=w,s=0;if(console.log(s),"Y"===S&&A===Y[1]?(o=k.hit(),alert("Computer has struck Tile: "+o)):(t=e.target.dataset.letter,n=e.target.dataset.number,o=t+n),console.log(o),console.log(l.length),A===Y[0]?(l=B,r=w,b=e.target.dataset.P1hit):A===Y[1]&&"Y"!=S?(l=L,r=I,b=e.target.dataset.P2hit):A===Y[1]&&"Y"===S&&(l=L,r=I),"0"===n)console.log("Stay in the grid.");else if("Y"===b)console.log("Already been hit, try again.");else{A===Y[0]?(l=B,r=w,b=e.target.dataset.P1hit="Y"):A===Y[1]&&(l=L,r=I,b=e.target.dataset.P2hit="Y");for(let e=0;e<l.length;e++)for(let t=0;t<l[e].coordinates.length;t++)l[e].coordinates[t]===o&&(console.log(l[e].coordinates),l[e].coordinates.splice(t,1),l[e].hitShip(o),l[e].isSunk(),++s,O(),console.log("Player one sunk ships: 0"),console.log("Player two sunk ships: 0"));if(r.push(o),console.log("P1 strikes: "+w),console.log("P2 strikes: "+I),0===s&&(alert("MISSED"),"Y"===S&&A===Y[1])){let e=0;for(;e<V.length;){if(V[e].functionCount>0){V[e].functionCount++;break}e++}}G()}}function O(){let e,t=0,n=L;A===Y[0]?(n=B,e="Player One"):A===Y[1]&&(n=L,e="Player Two");for(let e=0;e<n.length;e++)0===n[e].coordinates.length&&++t;console.log(t),5===t&&alert(e+" has won!")}function D(){if(P.length>4)if("Y"===S){alert("Computer is choosing battle positions"),E=1;let e=document.querySelectorAll(".cell");for(let t=0;t<e.length;t++)e[t].style.backgroundColor="white",document.getElementById("ingamebuttons").style.display="block",document.getElementById("positionPara").style.display="none",document.getElementById("Chnge").style.display="none";T()}else{E=1,G();let e=document.querySelectorAll(".cell");for(let t=0;t<e.length;t++)e[t].removeEventListener("click",d),e[t].removeEventListener("click",D),e[t].style.backgroundColor="white",document.getElementById("ingamebuttons").style.display="block",document.getElementById("positionPara").style.display="none",document.getElementById("Chnge").style.display="none";T()}}function T(){let e=document.querySelectorAll(".cell");for(let t=0;t<e.length;t++)e[t].addEventListener("click",q),e[t].style.backgroundColor="white",e[t].removeEventListener("mouseover",u),e[t].removeEventListener("mouseleave",g),e[t].addEventListener("mouseover",y),e[t].addEventListener("mouseleave",f)}console.log("OIL"),console.log("Nnnnn");const F={p1carrierShip:function(){let e=document.querySelectorAll(".cell");E=2;for(let t=0;t<e.length;t++)e[t].addEventListener("click",s),e[t].addEventListener("click",F.p1battleShip),e[t].addEventListener("mouseover",u),e[t].addEventListener("mouseleave",g)},p1battleShip:function(){if(P.length>0){let e=document.querySelectorAll(".cell");E=3;for(let t=0;t<e.length;t++)e[t].removeEventListener("click",s),e[t].removeEventListener("click",F.p1battleShip),e[t].addEventListener("click",a),e[t].addEventListener("click",F.p1cruiserShip),e[t].addEventListener("mouseover",u),e[t].addEventListener("mouseleave",g)}},p1cruiserShip:function(){if(P.length>1){console.log(P);let e=document.querySelectorAll(".cell");E=4;for(let t=0;t<e.length;t++)e[t].removeEventListener("click",a),e[t].removeEventListener("click",F.p1cruiserShip),e[t].addEventListener("click",i),e[t].addEventListener("click",F.p1submarineShip),e[t].addEventListener("mouseover",u),e[t].addEventListener("mouseleave",g)}},p1submarineShip:function(){if(P.length>2){let e=document.querySelectorAll(".cell");E=5;for(let t=0;t<e.length;t++)e[t].removeEventListener("click",i),e[t].removeEventListener("click",F.p1submarineShip),e[t].addEventListener("click",c),e[t].addEventListener("click",F.p1destroyerShip),e[t].addEventListener("mouseover",u),e[t].addEventListener("mouseleave",g)}},p1destroyerShip:function(){if(P.length>3){let e=document.querySelectorAll(".cell");E=6;for(let t=0;t<e.length;t++)e[t].removeEventListener("click",c),e[t].removeEventListener("click",F.p1destroyerShip),e[t].addEventListener("click",d),A===Y[1]?e[t].addEventListener("click",D):A===Y[0]&&e[t].addEventListener("click",F.loop),e[t].addEventListener("mouseover",u),e[t].addEventListener("mouseleave",g)}},loop:function(){if(P.length>4)if("Y"===S){let e=document.querySelectorAll(".cell");for(let t=0;t<e.length;t++)e[t].removeEventListener("click",d),e[t].removeEventListener("click",F.loop),e[t].style.backgroundColor="white";k.selectCarrier()}else{G();let e=document.querySelectorAll(".cell");for(let t=0;t<e.length;t++)e[t].removeEventListener("click",d),e[t].removeEventListener("click",F.loop),e[t].style.backgroundColor="white";F.p1carrierShip()}}};C.playerSelect(),t.createGameboard(),F.p1carrierShip()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YmF0dGxlc2hpcHMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2JhdHRsZXNoaXBzL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcHMvLi9zcmMvZ2FtZWJvYXJkLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXBzLy4vc3JjL2Nob29zZUNvb3JkaW5hdGVzLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXBzLy4vc3JjL292ZXJMYXAuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcHMvLi9zcmMvc2hpcHMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcHMvLi9zcmMvZG9tLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXBzLy4vc3JjL21vZGFsLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXBzLy4vc3JjL21vdmVtZW50TW9kdWxlLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXBzLy4vc3JjL2NvbXB1dGVyQUkuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcHMvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJjb25zdCBHYW1lYm9hcmRNb2R1bGUgPSAoKCkgPT4ge1xuXG4gICAgbGV0IGJvcmQgPSBcInNvbGlkIGJsYWNrIDJweFwiO1xuICAgIGxldCBub2JvcmQgPSBcIm5vbmVcIjtcbiAgICBcbiAgICBcbiAgICBjb25zdCBjcmVhdGVHcmlkcyA9IChsdHIsbm8saWQpID0+e1xuICAgIGxldCBncmlkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuICAgIGdyaWQuc3R5bGUucGFkZGluZyA9IFwiMTBweFwiO1xuICAgIC8vdHJ5aW5nIHRvIHRha2Ugb3V0IHRoZSBib3JkZXJpbmcgb2YgdGhlIG5vdCBpbiBwbGF5IGNlbGxzXG4gICAgaWYoaWQ9PT0gMCl7Z3JpZC5zdHlsZS5ib3JkZXI9bm9ib3JkfVxuICAgIGVsc2UgaWYobm89PT0wKXtncmlkLnN0eWxlLmJvcmRlciA9IG5vYm9yZDt9XG4gICAgZWxzZXtncmlkLnN0eWxlLmJvcmRlciA9IGJvcmQ7fVxuICAgIFxuICAgIFxuICAgIGdyaWQudGV4dENvbnRlbnQgPSBpZDtcbiAgICBncmlkLnN0eWxlLnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG4gICAgaWYoaWQ9PT0wICYmIGx0cj09PVwiMFwiKXtncmlkLnRleHRDb250ZW50ID0gbm99XG4gICAgZWxzZSBpZihubz09PTAgJiYgbHRyIT1cIjBcIil7Z3JpZC50ZXh0Q29udGVudCA9IGx0cn1cbiAgICBncmlkLmRhdGFzZXQuaGl0ID0gXCJOb1wiXG4gICAgZ3JpZC5kYXRhc2V0LlAxaGl0PVwiTlwiXG4gICAgZ3JpZC5kYXRhc2V0LlAyaGl0PVwiTlwiXG4gICAgbGV0IGxldHRlciA9IGdyaWQuZGF0YXNldC5sZXR0ZXIgPSBsdHI7XG4gICAgbGV0IG51bWJlciA9IGdyaWQuZGF0YXNldC5udW1iZXIgPSBubztcbiAgICAvL3Nob3dzIHdoaWNoIHBsYXllciBvd25zIHRoZSBjZWxsLy9cbiAgICAvL2xldCBwbGF5ZXIgPSBncmlkLmRhdGFzZXQucGxheWVyY2VsbCA9IFwicGxheWVyXCIrcGx5cjtcbiAgICBcbiAgICAvL2NyZWF0aW5nIGEgY2xhc3MgZm9yIGVhY2ggZ3JpZCBzbyB3ZSBjYW4gYWNjZXNzIGl0IGZyb20gdGhlIGZ1bmN0aW9uc1xuICAgIGdyaWQuY2xhc3NMaXN0LmFkZChcImNlbGxcIik7XG4gICAgLy9jcmVhdGluZyBhbiBpZCB0aGF0IG1hdGNoZXMgaXRzIGNvb3JkaW5hdGVzXG4gICAgZ3JpZC5zZXRBdHRyaWJ1dGUoJ2lkJyxncmlkLmRhdGFzZXQubGV0dGVyK2dyaWQuZGF0YXNldC5udW1iZXIpXG4gICAgXG4gICAgICAgICBcbiAgICBsZXQgZ2FtZWJvYXJkID0gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZWJvYXJkMVwiKTtcbiAgICBcbiAgICBnYW1lYm9hcmQuYXBwZW5kQ2hpbGQoZ3JpZCk7XG4gICAgXG4gICAgfVxuICAgIFxuICAgIC8vY3JlYXRlIHRoZSB3aG9sZSBncmlkIHdpdGggYmVsb3cgZnVuY3Rpb25cbiAgICBjb25zdCBjcmVhdGVHYW1lYm9hcmQgPSAoKSA9PntcbiAgICBcbiAgICBmb3IobGV0IGk9MDtpPDExO2krKyl7XG4gICAgICAgIFxuICAgIFxuICAgICAgICBHYW1lYm9hcmRNb2R1bGUuY3JlYXRlR3JpZHMoXCIwXCIsMCxpKVxuICAgICAgICBHYW1lYm9hcmRNb2R1bGUuY3JlYXRlR3JpZHMoXCJBXCIsaSk7XG4gICAgICAgIEdhbWVib2FyZE1vZHVsZS5jcmVhdGVHcmlkcyhcIkJcIixpKTtcbiAgICAgICAgR2FtZWJvYXJkTW9kdWxlLmNyZWF0ZUdyaWRzKFwiQ1wiLGkpO1xuICAgICAgICBHYW1lYm9hcmRNb2R1bGUuY3JlYXRlR3JpZHMoXCJEXCIsaSk7XG4gICAgICAgIEdhbWVib2FyZE1vZHVsZS5jcmVhdGVHcmlkcyhcIkVcIixpKTtcbiAgICAgICAgR2FtZWJvYXJkTW9kdWxlLmNyZWF0ZUdyaWRzKFwiRlwiLGkpO1xuICAgICAgICBHYW1lYm9hcmRNb2R1bGUuY3JlYXRlR3JpZHMoXCJHXCIsaSk7XG4gICAgICAgIEdhbWVib2FyZE1vZHVsZS5jcmVhdGVHcmlkcyhcIkhcIixpKTtcbiAgICAgICAgR2FtZWJvYXJkTW9kdWxlLmNyZWF0ZUdyaWRzKFwiSVwiLGkpO1xuICAgICAgICBHYW1lYm9hcmRNb2R1bGUuY3JlYXRlR3JpZHMoXCJKXCIsaSk7XG4gICAgXG4gICAgfVxuICAgIH1cbiAgICByZXR1cm4ge2NyZWF0ZUdyaWRzLGNyZWF0ZUdhbWVib2FyZH1cbiAgICB9KSgpO1xuXG4gICAgZXhwb3J0e0dhbWVib2FyZE1vZHVsZX07IiwiLy90aGUgY2hvb29zZSBjb29yZGluYXRlcyBmdW5jdGlvblxuZnVuY3Rpb24gY2hvb3NlQ3JkbnRzKFN0cnRMdHRycyxTdHJ0Tm8sbGVuZ3RoLFZvckgpe1xuICAgIGxldCBjb29yZCA9IFtdO1xuICAgIFxuICAgIGlmKFZvckg9PT1cIlZcIil7XG4gICAgbGV0IG92ZXIgPSAxMS1sZW5ndGg7XG4gICAgLy9idWlsZGluZyBpdCBzbyB3aGVuIHRoZSB1c2VyIHNlbGVjdHMgYSBudW1iZXIgaXQga2VlcHMgaXQgd2l0aGluIHRoZSBncmlkXG4gICAgaWYoU3RydE5vPm92ZXIpe1N0cnRObyA9IG92ZXJ9XG4gICAgLy9pZihWb3JIPT09XCJWZXJ0aWNhbFwiKXt9IFdpbGwgYmUgdHJlYXRpbmcgdGhpcyB0ZXN0aW5nIGFzIGNvbXBsZXRlIHZlcnRpY2FsIHBvc2l0aW9uaW5nXG4gICAgZm9yKGxldCBpPTE7aTxsZW5ndGgrMTtpKyspe1xuICAgICAgICBjb29yZC5wdXNoKFN0cnRMdHRycyArIFN0cnRObysrKVxuICAgIH1cbn1cblxuZWxzZSBpZihWb3JIPT09XCJIXCIpe1xuICAgIGxldCBMdHJOdW1iZXIgPSBTdHJ0THR0cnMuY2hhckNvZGVBdCgwKVxuICAgIGxldCBvdmVyID0gNzUtbGVuZ3RoO1xuICAgIC8vYnVpbGRpbmcgaXQgc28gd2hlbiB0aGUgdXNlciBzZWxlY3RzIGEgbnVtYmVyIGl0IGtlZXBzIGl0IHdpdGhpbiB0aGUgZ3JpZFxuICAgIGlmKEx0ck51bWJlcj5vdmVyKXtMdHJOdW1iZXIgPSBvdmVyfVxuICAgIGNvbnNvbGUubG9nKEx0ck51bWJlcilcbiAgICBjb25zb2xlLmxvZyhvdmVyKVxuICAgIFxuICAgIGZvcihsZXQgaT0xO2k8bGVuZ3RoKzE7aSsrKXtcbiAgICAgICAgY29vcmQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKEx0ck51bWJlcisrKSArIFN0cnRObylcbiAgICB9XG5cbn1cbiAgICByZXR1cm4gY29vcmQ7XG5cbn1cblxuZXhwb3J0IHtjaG9vc2VDcmRudHN9IiwiLy9jb2RlIGZvciBpZGVudGlmeWluZyB3aGVuIHRoZSBjaG9zZW4gY29vcmRpbmF0ZXMgb3ZlcmxhcCBcbi8vd2l0aCBjb29yZGluYXRlcyB0aGF0IGhhdmUgYWxyZWFkeSBiZWVuIGFzc2lnbmVkXG5cblxuXG5cblxuZnVuY3Rpb24gb3ZlckxhcChhLGIpe1xuLy9QbGM9IHBsYXllciBjb29yZGluYXRlcyAgICBcbmxldCBwbGM9YTtcbi8vY3JkIGlzIHRoZSBuZXcgY29vcmRpbmF0ZXNcbmxldCBjcmQgPWI7XG4vL3ZhcmlhYmxlIHRvIHJldHVyblxubGV0IG92cmxhcD0wO1xuXG5mb3IobGV0IHo9MDt6PGNyZC5sZW5ndGg7eisrKXtcbmZvcihsZXQgcD0wO3A8cGxjLmxlbmd0aDtwKyspe1xuICAgIGZvcihsZXQgaT0wO2k8cGxjW3BdLmNvb3JkaW5hdGVzLmxlbmd0aDtpKyspe1xuICAgIGlmKHBsY1twXS5jb29yZGluYXRlc1tpXT09PWNyZFt6XSl7b3ZybGFwKyt9XG4gICAgXG59XG59XG59XG5pZihvdnJsYXA+MCl7b3ZybGFwPVwiWVwifVxuICAgIGVsc2V7b3ZybGFwPVwiTlwifVxucmV0dXJuIG92cmxhcFxufVxuXG4vKlxuXG4vL3NlY29uZCBhdHRlbXB0IGR1bWJpbmcgaXQgZG93blxuZnVuY3Rpb24gb3ZlckxhcChhLGIpe1xuICAgIC8vUGxjPSBwbGF5ZXIgY29vcmRpbmF0ZXMgICAgXG4gICAgbGV0IHBsYz1hO1xuICAgIC8vY3JkIGlzIHRoZSBuZXcgY29vcmRpbmF0ZXNcbiAgICBsZXQgY3JkID1iO1xuICAgIC8vdmFyaWFibGUgdG8gcmV0dXJuXG4gICAgbGV0IG92cmxhcCA9MDtcbiAgICBcbiAgICBmb3IobGV0IHA9MDtwPHBsYy5sZW5ndGg7cCsrKXtcbiAgICBmb3IobGV0IHo9MDt6PGNyZC5sZW5ndGg7eisrKXtcbiAgICAgICAgaWYocGxjW3BdPT09Y3JkW3pdKXtvdnJsYXArK31cbiAgICAgICAgXG4gICAgfVxuICAgIH1cbiAgICBcbiAgICBpZihvdnJsYXA+MCl7b3ZybGFwPVwiWVwifVxuICAgIGVsc2V7b3ZybGFwPVwiTlwifVxuICAgIHJldHVybiBvdnJsYXBcbiAgICB9XG4gICAgKi9cblxuZXhwb3J0IHtvdmVyTGFwfSIsImltcG9ydHtjb21wQWlyZWNvcmQsc21hcnRDb3VudGVyLGNpcCxwaXAsZGlyZWN0aW9uLHBsYXllcjFjb29yZCxwbGF5ZXIyY29vcmQscGxheWVyQmFzZX0gZnJvbSAnLi9pbmRleCdcbmltcG9ydHtjaG9vc2VDcmRudHN9IGZyb20gJy4vY2hvb3NlQ29vcmRpbmF0ZXMnXG5pbXBvcnR7b3ZlckxhcH0gZnJvbSAnLi9vdmVyTGFwJ1xuXG5cblxuZnVuY3Rpb24gc2hpcGZhY3RvcnkobmFtZSxjb29yZGluYXRlcyl7XG4gICAgdGhpcy5uYW1lID0gbmFtZVxuICAgIHRoaXMuY29vcmRpbmF0ZXMgPSBjb29yZGluYXRlc1xuICAgIHRoaXMuaGl0U2hpcCA9IChoaXQpPT57YWxlcnQoXCJTdHJ1Y2sgdGhlIFwiICsgbmFtZSArIFwiIHNoaXBcIilcbiAgICBpZihjaXA9PT1cIllcIiYmcGlwPT09cGxheWVyQmFzZVsxXSl7YWxlcnQoXCJ3ZWxsIGRvbmUgY29tcHV0ZXJcIilcbiAgICAgYWxlcnQoaGl0K1wiIGhhcyBiZWVuIGhpdC5cIilcbiAgICBmb3IobGV0IGk9MDtpPGNvbXBBaXJlY29yZC5sZW5ndGg7aSsrKXtcbiAgICAgIGlmKG5hbWU9PT1jb21wQWlyZWNvcmRbaV0ubmFtZSl7Y29tcEFpcmVjb3JkW2ldLmNvb3JkaW5hdGVzLnB1c2goaGl0KVxuICAgICAgICBpZihjb21wQWlyZWNvcmRbaV0uZnVuY3Rpb25Db3VudD09PTApe2NvbXBBaXJlY29yZFtpXS5mdW5jdGlvbkNvdW50Kyt9XG4gICAgICAgIGVsc2UgaWYoY29tcEFpcmVjb3JkW2ldLmZ1bmN0aW9uQ291bnQ+MCl7Y29tcEFpcmVjb3JkW2ldLmZ1bmN0aW9uQ291bnQ7fVxuICAgICAgfVxuICAgIH0gIFxuICBcbiAgfVxufVxuICAgIHRoaXMuaXNTdW5rID0gKCkgPT57aWYoY29vcmRpbmF0ZXMubGVuZ3RoPT09MCl7YWxlcnQoXCJTdW5rIHRoZSBcIisgbmFtZSArXCIgc2hpcFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgXG4gIH1cblxuICBsZXQgY29vcmRpZDtcblxuXG4gIGNvbnN0IGNhcnJpZXIgPSAodCkgPT57ICAgIFxuICAgIHQudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmVkXCI7XG4gICAgbGV0IGxldHRlciA9IHQudGFyZ2V0LmRhdGFzZXQubGV0dGVyO1xuICAgIGxldCBudW1iZXIgPSB0LnRhcmdldC5kYXRhc2V0Lm51bWJlcjtcbiAgICAvL2FsZXJ0KFwiWW91ciBiYXR0bGVzaGlwIHdpbGwgaGF2ZSB0aGUgY29vcmRpbmF0ZXM6IFwiK2Nob29zZUNyZG50cyhsZXR0ZXIsbnVtYmVyLD8/LGRpcmVjdGlvbikpXG4gICAgbGV0IGd1bm4gPSBuZXcgc2hpcGZhY3RvcnkoXCJDYXJyaWVyXCIsY2hvb3NlQ3JkbnRzKGxldHRlcixudW1iZXIsMixkaXJlY3Rpb24pKVxuICAgIGxldCBQQztcbiAgICBpZihudW1iZXI9PT1cIjBcIil7Y29uc29sZS5sb2coXCJTdGF5IGluIHRoZSBncmlkLlwiKX1cbiAgICBlbHNle1xuICAgIGlmKHBpcCA9PT0gcGxheWVyQmFzZVswXSl7UEMgPSBwbGF5ZXIxY29vcmQ7IGNvb3JkaWQgPSBcInAxY1wifVxuICAgIGVsc2UgaWYocGlwID09PSBwbGF5ZXJCYXNlWzFdKXtQQyA9IHBsYXllcjJjb29yZDsgY29vcmRpZCA9IFwicDJjXCJ9XG4gXG4gICAgUEMucHVzaChndW5uKTtcbiAgXG4gICAgICBcbiAgICB9XG4gICAgcmV0dXJuIFBDO1xuICAgIH1cblxuICBjb25zdCBiYXR0bGVzaGlwID0gKHQpID0+e1xuICAgIHQudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmVkXCI7XG4gICAgbGV0IGxldHRlciA9IHQudGFyZ2V0LmRhdGFzZXQubGV0dGVyO1xuICAgIGxldCBudW1iZXIgPSB0LnRhcmdldC5kYXRhc2V0Lm51bWJlcjtcbiAgICAvL2FsZXJ0KFwiWW91ciBiYXR0bGVzaGlwIHdpbGwgaGF2ZSB0aGUgY29vcmRpbmF0ZXM6IFwiK2Nob29zZUNyZG50cyhsZXR0ZXIsbnVtYmVyLD8/LGRpcmVjdGlvbikpXG4gICAgbGV0IGd1bm4gPSBuZXcgc2hpcGZhY3RvcnkoXCJCYXR0bGVzaGlwXCIsY2hvb3NlQ3JkbnRzKGxldHRlcixudW1iZXIsMyxkaXJlY3Rpb24pKVxuICAgIGxldCBQQztcbiAgICBpZihudW1iZXI9PT1cIjBcIil7Y29uc29sZS5sb2coXCJTdGF5IGluIHRoZSBncmlkLlwiKX1cbiAgICBlbHNle1xuICAgIGlmKHBpcCA9PT0gcGxheWVyQmFzZVswXSl7UEMgPSBwbGF5ZXIxY29vcmQ7IGNvb3JkaWQgPSBcInAxY1wifVxuICAgIGVsc2UgaWYocGlwID09PSBwbGF5ZXJCYXNlWzFdKXtQQyA9IHBsYXllcjJjb29yZDsgY29vcmRpZCA9IFwicDJjXCJ9XG4gICAgaWYob3ZlckxhcChQQyxjaG9vc2VDcmRudHMobGV0dGVyLG51bWJlciwzLGRpcmVjdGlvbikpPT09XCJZXCIpe2FsZXJ0KFwiVGhlc2UgdGlsZXMgaGF2ZSBhbHJlYWR5IGJlZW4gYXNzaWduZWQsIHBsZWFzZSBjaG9vc2UgZGlmZmVyZW50IHRpbGVzXCIpfVxuICBlbHNleyBcbiAgICBQQy5wdXNoKGd1bm4pO1xuICAgIFxuXG4gICAgXG4gIH19XG4gICAgcmV0dXJuIFBDO1xuICB9XG4gIGNvbnN0IGNydWlzZXIgPSAodCkgPT57XG4gICAgdC50YXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZWRcIjtcbiAgICBsZXQgbGV0dGVyID0gdC50YXJnZXQuZGF0YXNldC5sZXR0ZXI7XG4gICAgbGV0IG51bWJlciA9IHQudGFyZ2V0LmRhdGFzZXQubnVtYmVyO1xuICAgIC8vYWxlcnQoXCJZb3VyIGJhdHRsZXNoaXAgd2lsbCBoYXZlIHRoZSBjb29yZGluYXRlczogXCIrY2hvb3NlQ3JkbnRzKGxldHRlcixudW1iZXIsPz8sZGlyZWN0aW9uKSlcbiAgICBsZXQgZ3VubiA9IG5ldyBzaGlwZmFjdG9yeShcIkNydWlzZXJcIixjaG9vc2VDcmRudHMobGV0dGVyLG51bWJlciw0LGRpcmVjdGlvbikpXG4gICAgbGV0IFBDO1xuICAgIGlmKG51bWJlcj09PVwiMFwiKXtjb25zb2xlLmxvZyhcIlN0YXkgaW4gdGhlIGdyaWQuXCIpfVxuICAgIGVsc2V7XG4gICAgaWYocGlwID09PSBwbGF5ZXJCYXNlWzBdKXtQQyA9IHBsYXllcjFjb29yZDsgY29vcmRpZCA9IFwicDFjXCJ9XG4gICAgZWxzZSBpZihwaXAgPT09IHBsYXllckJhc2VbMV0pe1BDID0gcGxheWVyMmNvb3JkOyBjb29yZGlkID0gXCJwMmNcIn1cbiAgICBpZihvdmVyTGFwKFBDLGNob29zZUNyZG50cyhsZXR0ZXIsbnVtYmVyLDQsZGlyZWN0aW9uKSk9PT1cIllcIil7YWxlcnQoXCJUaGVzZSB0aWxlcyBoYXZlIGFscmVhZHkgYmVlbiBhc3NpZ25lZCwgcGxlYXNlIGNob29zZSBkaWZmZXJlbnQgdGlsZXNcIil9XG4gICAgZWxzZXsgXG4gICAgUEMucHVzaChndW5uKTtcbiAgICBcblxuICAgIFxuICAgIH19XG4gICAgcmV0dXJuIFBDO1xuICB9XG4gIGNvbnN0IHN1Ym1hcmluZSA9ICh0KSA9PntcbiAgICB0LnRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJlZFwiO1xuICAgIGxldCBsZXR0ZXIgPSB0LnRhcmdldC5kYXRhc2V0LmxldHRlcjtcbiAgICBsZXQgbnVtYmVyID0gdC50YXJnZXQuZGF0YXNldC5udW1iZXI7XG4gICAgLy9hbGVydChcIllvdXIgYmF0dGxlc2hpcCB3aWxsIGhhdmUgdGhlIGNvb3JkaW5hdGVzOiBcIitjaG9vc2VDcmRudHMobGV0dGVyLG51bWJlciw/PyxkaXJlY3Rpb24pKVxuICAgIGxldCBndW5uID0gbmV3IHNoaXBmYWN0b3J5KFwiU3VibWFyaW5lXCIsY2hvb3NlQ3JkbnRzKGxldHRlcixudW1iZXIsNSxkaXJlY3Rpb24pKVxuICAgIGxldCBQQztcbiAgICBpZihudW1iZXI9PT1cIjBcIil7Y29uc29sZS5sb2coXCJTdGF5IGluIHRoZSBncmlkLlwiKX1cbiAgICBlbHNle1xuICAgIGlmKHBpcCA9PT0gcGxheWVyQmFzZVswXSl7UEMgPSBwbGF5ZXIxY29vcmQ7IGNvb3JkaWQgPSBcInAxY1wifVxuICAgIGVsc2UgaWYocGlwID09PSBwbGF5ZXJCYXNlWzFdKXtQQyA9IHBsYXllcjJjb29yZDsgY29vcmRpZCA9IFwicDJjXCJ9XG4gICAgaWYob3ZlckxhcChQQyxjaG9vc2VDcmRudHMobGV0dGVyLG51bWJlciw1LGRpcmVjdGlvbikpPT09XCJZXCIpe2FsZXJ0KFwiVGhlc2UgdGlsZXMgaGF2ZSBhbHJlYWR5IGJlZW4gYXNzaWduZWQsIHBsZWFzZSBjaG9vc2UgZGlmZmVyZW50IHRpbGVzXCIpfVxuICAgIGVsc2V7IFxuICAgIFBDLnB1c2goZ3Vubik7XG4gICAgXG4gICAgXG4gICAgfX1cbiAgICByZXR1cm4gUEM7XG4gIH1cbiAgY29uc3QgZGVzdHJveWVyID0gKHQpID0+e1xuICAgIHQudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmVkXCI7XG4gICAgbGV0IGxldHRlciA9IHQudGFyZ2V0LmRhdGFzZXQubGV0dGVyO1xuICAgIGxldCBudW1iZXIgPSB0LnRhcmdldC5kYXRhc2V0Lm51bWJlcjtcbiAgICAvL2FsZXJ0KFwiWW91ciBiYXR0bGVzaGlwIHdpbGwgaGF2ZSB0aGUgY29vcmRpbmF0ZXM6IFwiK2Nob29zZUNyZG50cyhsZXR0ZXIsbnVtYmVyLD8/LGRpcmVjdGlvbikpXG4gICAgbGV0IGd1bm4gPSBuZXcgc2hpcGZhY3RvcnkoXCJEZXN0cm95ZXJcIixjaG9vc2VDcmRudHMobGV0dGVyLG51bWJlciw2LGRpcmVjdGlvbikpXG4gICAgbGV0IFBDO1xuICAgIGlmKG51bWJlcj09PVwiMFwiKXtjb25zb2xlLmxvZyhcIlN0YXkgaW4gdGhlIGdyaWQuXCIpfVxuICAgIGVsc2V7XG4gICAgaWYocGlwID09PSBwbGF5ZXJCYXNlWzBdKXtQQyA9IHBsYXllcjFjb29yZDsgY29vcmRpZCA9IFwicDFjXCJ9XG4gICAgZWxzZSBpZihwaXAgPT09IHBsYXllckJhc2VbMV0pe1BDID0gcGxheWVyMmNvb3JkOyBjb29yZGlkID0gXCJwMmNcIn1cbiAgICBpZihvdmVyTGFwKFBDLGNob29zZUNyZG50cyhsZXR0ZXIsbnVtYmVyLDYsZGlyZWN0aW9uKSk9PT1cIllcIil7YWxlcnQoXCJUaGVzZSB0aWxlcyBoYXZlIGFscmVhZHkgYmVlbiBhc3NpZ25lZCwgcGxlYXNlIGNob29zZSBkaWZmZXJlbnQgdGlsZXNcIil9XG4gICAgZWxzZXsgXG4gICAgUEMucHVzaChndW5uKTtcblxuICAgIFxuICAgIH19XG4gICAgcmV0dXJuIFBDO1xuICB9XG5cbiAgZXhwb3J0IHtzaGlwZmFjdG9yeSxjYXJyaWVyLGJhdHRsZXNoaXAsY3J1aXNlcixzdWJtYXJpbmUsZGVzdHJveWVyfSIsImltcG9ydCB7c3EsZGlyZWN0aW9uLHBsYXllcjFjb29yZCxwbGF5ZXIyY29vcmQscGlwLHBsYXllcjFzdHJpa2VzLHBsYXllcjJzdHJpa2VzLHBsYXllckJhc2UsUGhpdH0gZnJvbSAnLi9pbmRleCdcbmNvbnN0IGRvbU1vZHVsZSA9ICgoKSA9Pntcbi8vZnVuY3Rpb24gZm9yIGhpZ2hsaWdodGluZyBzcXVhcmVzIHdoZW4gaG92ZXJpbmdcbmZ1bmN0aW9uIGhvdmVyKHQpe1xubGV0IG51bWIgPSB0LnRhcmdldC5kYXRhc2V0Lm51bWJlcjtcbmxldCBsZXR0ZXJyID0gdC50YXJnZXQuZGF0YXNldC5sZXR0ZXI7XG5sZXQgY29sb3IgPSBcImJsdWVcIjtcblxuaWYoZGlyZWN0aW9uPT09XCJWXCIpe1xuICAgIGxldCBvdmVyID0gMTEtc3E7XG4gICAgLy9idWlsZGluZyBpdCBzbyB3aGVuIHRoZSB1c2VyIHNlbGVjdHMgYSBudW1iZXIgaXQga2VlcHMgaXQgd2l0aGluIHRoZSBncmlkXG4gICAgaWYobnVtYj5vdmVyKXtudW1iID0gb3Zlcn1cbiAgICBpZihudW1iPT09XCIwXCIpe2NvbG9yID0gXCJ3aGl0ZVwifVxuICAgIGVsc2V7Y29sb3I9XCJncmV5XCJ9XG5mb3IobGV0IGk9MDtpPHNxO2krKyl7XG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChsZXR0ZXJyKygrbnVtYitpKSkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3J9fVxuZWxzZSBpZihkaXJlY3Rpb249PT1cIkhcIil7XG4gICAgbGV0IEx0ck51bWJlciA9bGV0dGVyci5jaGFyQ29kZUF0KDApXG4gICAgbGV0IG92ZXIgPSA3NS1zcTtcbiAgICAvL2J1aWxkaW5nIGl0IHNvIHdoZW4gdGhlIHVzZXIgc2VsZWN0cyBhIG51bWJlciBpdCBrZWVwcyBpdCB3aXRoaW4gdGhlIGdyaWRcbiAgICBpZihMdHJOdW1iZXI+b3Zlcil7THRyTnVtYmVyID0gb3Zlcn1cbiAgICBmb3IobGV0IGk9MDtpPHNxO2krKyl7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoU3RyaW5nLmZyb21DaGFyQ29kZShMdHJOdW1iZXIrKykgKyBudW1iKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9XCJncmV5XCJ9XG59XG59XG5cbi8vZnVuY3Rpb24gZm9yIHJldHVybmluZyBzcXVhcmUgY29sb3IgdG8gd2hpdGUgYWZ0ZXIgbGVhdmluZ1xuZnVuY3Rpb24gbGVhdmUodCl7dC50YXJnZXQuYmFja2dyb3VuZENvbG9yPVwid2hpdGVcIlxubGV0IG51bWIgPSB0LnRhcmdldC5kYXRhc2V0Lm51bWJlcjtcbmxldCBsZXR0ZXJyID0gdC50YXJnZXQuZGF0YXNldC5sZXR0ZXI7XG5sZXQgaGl0ID0gbGV0dGVycitudW1iO1xuY29uc29sZS5sb2coaGl0KTtcblxuaWYoZGlyZWN0aW9uPT09XCJWXCIpe1xuICAgIGxldCBvdmVyID0gMTEtc3E7XG4gICAgLy9idWlsZGluZyBpdCBzbyB3aGVuIHRoZSB1c2VyIHNlbGVjdHMgYSBudW1iZXIgaXQga2VlcHMgaXQgd2l0aGluIHRoZSBncmlkXG4gICAgaWYobnVtYj5vdmVyKXtudW1iID0gb3Zlcn1cbiAgICBmb3IobGV0IGk9MDtpPHNxO2krKyl7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobGV0dGVycisoK251bWIraSkpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwid2hpdGVcIn19XG4gICAgZWxzZSBpZihkaXJlY3Rpb249PT1cIkhcIil7XG4gICAgICAgIGxldCBMdHJOdW1iZXIgPWxldHRlcnIuY2hhckNvZGVBdCgwKVxuICAgICAgICBsZXQgb3ZlciA9IDc1LXNxO1xuICAgICAgICBcbiAgICAvL2J1aWxkaW5nIGl0IHNvIHdoZW4gdGhlIHVzZXIgc2VsZWN0cyBhIG51bWJlciBpdCBrZWVwcyBpdCB3aXRoaW4gdGhlIGdyaWRcbiAgICBpZihMdHJOdW1iZXI+b3Zlcil7THRyTnVtYmVyID0gb3Zlcn1cbiAgICAgICAgZm9yKGxldCBpPTA7aTxzcTtpKyspe1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChTdHJpbmcuZnJvbUNoYXJDb2RlKEx0ck51bWJlcisrKSArIG51bWIpLnN0eWxlLmJhY2tncm91bmRDb2xvcj1cIndoaXRlXCJ9XG4gICAgfVxuXG4gICAgXG4gICAgfVxuXG4gICAgXG4gICBcbiAgICAgIC8vZnVuY3Rpb24gdGhhdCBhbGxvd3MgdXMgdG8gdXBkYXRlIHRpbGVzIHdpdGhvdXQgY2FycnlpbmcgcHJldmlvdXMgdGlsZXMgb3ZlclxuICAgICAgZnVuY3Rpb24gd2hpdGVPdXQoKXtcbiAgICAgICAgbGV0IGNlbGxzPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNlbGxcIik7XG4gICAgICAgIGZvcihsZXQgaT0wO2k8Y2VsbHMubGVuZ3RoO2krKyl7XG4gICAgICAgICAgICBjZWxsc1tpXS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIndoaXRlXCI7fVxuICAgICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIGF0dGFja0JvYXJkKCl7XG4gICAgICAgIGxldCBzdHJpa2UgPSBwbGF5ZXIxc3RyaWtlcztcbiAgICAgICAgaWYocGlwID09PSBwbGF5ZXJCYXNlWzBdKXtzdHJpa2U9cGxheWVyMXN0cmlrZXN9XG4gICAgZWxzZSBpZihwaXAgPT09IHBsYXllckJhc2VbMV0pe3N0cmlrZT1wbGF5ZXIyc3RyaWtlc30gICAgXG4gICAgZm9yKGxldCBpPTA7aTxzdHJpa2UubGVuZ3RoO2krKyl7XG4gICAgICAgIFxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzdHJpa2VbaV0pLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmVkXCI7XG4gICAgfVxuXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGxheWVyQm9hcmQoKXtcbiAgICAgICAgbGV0IHNob3cgPSBwbGF5ZXIxY29vcmQ7XG4gICAgICAgIGlmKHBpcCA9PT0gcGxheWVyQmFzZVswXSl7c2hvdz1wbGF5ZXIxY29vcmQ7Y29uc29sZS5sb2coc2hvdyl9XG4gICAgZWxzZSBpZihwaXAgPT09IHBsYXllckJhc2VbMV0pe3Nob3c9cGxheWVyMmNvb3JkOyBjb25zb2xlLmxvZyhzaG93KX0gXG4gICAgZm9yKGxldCBpPTA7aTxzaG93Lmxlbmd0aDtpKyspe1xuICAgICAgICBmb3IobGV0IGlpPTA7aWk8c2hvd1tpXS5jb29yZGluYXRlcy5sZW5ndGg7aWkrKyl7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNob3dbaV0uY29vcmRpbmF0ZXNbaWldKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9XCJncmV5XCI7XG4gICAgICAgICAgICBcblxuICAgICAgICB9XG4gICAgfVxuICAgICAgIFxuICAgIH1cblxuICAgIC8vZnVuY3Rpb25zIGZvciB3aGVuIHRoZSBoaXQgZnVuY3Rpb24gaXMgaW4gcGxheVxuICAgIGZ1bmN0aW9uIGhpdEhvdmVyKHQpe1xuICAgICAgICBpZih0LnRhcmdldC5kYXRhc2V0Lm51bWJlcj09PVwiMFwiKVxue3QudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvcj1cIndoaXRlXCJ9ZWxzZXt0LnRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9XCJyZWRcIn1cblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhpdExlYXZlKHQpe1xuICAgICAgICBpZihwaXAgPT09IHBsYXllckJhc2VbMF0pe1BoaXQ9dC50YXJnZXQuZGF0YXNldC5QMWhpdH1cbiAgICBlbHNlIGlmKHBpcCA9PT0gcGxheWVyQmFzZVsxXSl7UGhpdD10LnRhcmdldC5kYXRhc2V0LlAyaGl0fSAgXG4gICAgXG4gICAgICAgIGlmKFBoaXQ9PT1cIllcIil7dC50YXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yPVwicmVkXCJ9XG4gICAgICAgIGVsc2UgaWYoUGhpdD09PVwiTlwiKXt0LnRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIndoaXRlXCJ9XG4gICAgfVxuXG5yZXR1cm4ge2hvdmVyLGxlYXZlLGF0dGFja0JvYXJkLHdoaXRlT3V0LGhpdEhvdmVyLGhpdExlYXZlLHBsYXllckJvYXJkfVxufSkoKTtcblxuXG5leHBvcnR7ZG9tTW9kdWxlfSIsImltcG9ydCB7Y2lwLHNlbGVjdGlvbk1vZHVsZSxoaXR9IGZyb20gJy4vaW5kZXgnXG5cbmNvbnN0IG1vZGFsTW9kdWxlID0gKCgpID0+e1xuLy8gR2V0IHRoZSBtb2RhbFxudmFyIG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJteU1vZGFsXCIpO1xuXG4vLyBHZXQgdGhlIGJ1dHRvbiB0aGF0IG9wZW5zIHRoZSBtb2RhbFxudmFyIGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibXlCdG5cIik7XG5cbi8vZ2V0IHRoZSBjb250ZW50IG9mIHRoZSBwYXJhZ3JhcGhcbmxldCBwYXJhMSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGFyYTFcIik7XG5sZXQgcGFyYTIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhcmEyXCIpXG5cbi8vIEdldCB0aGUgPHNwYW4+IGVsZW1lbnQgdGhhdCBjbG9zZXMgdGhlIG1vZGFsXG52YXIgc3BhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJjbG9zZVwiKVswXTtcblxuLy9wbGF5ZXIgc2VsZWN0IGJ1dHRvbnNcbmxldCBwc2J0bnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIlBTYnV0dG9uc1wiKTtcbnBzYnRucy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcblxuLy9jb21wdXRlciBoaXQgYnV0dG9uXG5sZXQgY29tcEhpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29tcEhpdFwiKTtcbmNvbXBIaXQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXG5cbi8vIFdoZW4gdGhlIHVzZXIgY2xpY2tzIG9uIHRoZSBidXR0b24sIGNsb3NlcyB0aGUgbW9kYWxcbmJ0bi5vbmNsaWNrID0gZnVuY3Rpb24oKSB7XG4gIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIk5vbmVcIjtcbn1cblxuZnVuY3Rpb24gY2xvc2VNb2RhbCgpe1xuICBtb2RhbC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO1xufVxuXG5cblxuLy9wbGF5ZXIgc2VsZWN0IGJ1dHRvbnNcbmxldCBmcm5kID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmcm5kXCIpO1xubGV0IGNvbXAgPSAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb21wXCIpO1xuXG5cbmZ1bmN0aW9uIHNob3dNb2R1bGUoKXtcbiAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIHBhcmExLnRleHRDb250ZW50ID0gXCJDSEFOR0UgUExBQ0VTIVwiXG4gICAgcGFyYTIudGV4dENvbnRlbnQgPSBcIkNsaWNrIGJ1dHRvbiB3aGVuIHJlYWR5LlwiXG4gICAgcHNidG5zLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBidG4uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIlxuXG4gXG59XG5cbmZ1bmN0aW9uIHBsYXllclNlbGVjdCgpe1xuICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIHBhcmExLnRleHRDb250ZW50ID0gXCJBcmUgeW91IHBsYXlpbmcgd2l0aCBhIGZyaWVuZCBvciBhZ2FpbnN0IG91ciBBST9cIlxuICAgIGJ0bi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jbG9zZVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcbiAgICBwc2J0bnMuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblxuICAgIGZybmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCgpPT57XG4gICAgICBjaXAgPSBcIk5cIlxuICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgXG5cbiAgICB9KVxuXG4gICBjb21wLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKT0+e1xuICAgICAgY2lwID0gXCJZXCJcbiAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgIFxuXG4gICAgfSlcbn1cblxuXG5mdW5jdGlvbiBjb21wSGl0TW9kYWwoKXtcblxuICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICBwYXJhMS50ZXh0Q29udGVudCA9IFwiUGxlYXNlIGNsaWNrIHRoZSBidXR0b24gYmVsb3cgdG8gYWN0aXZhdGUgdGhlIEFJIGNob2ljZSFcIlxuICBidG4uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICBjb21wSGl0LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2xvc2VcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG4gIHBzYnRucy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgY29tcEhpdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsaGl0KTtcbiAgICBjb21wSGl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxjbG9zZU1vZGFsKVxufVxuXG5yZXR1cm4ge3Nob3dNb2R1bGUscGxheWVyU2VsZWN0LGNvbXBIaXRNb2RhbCxjbG9zZU1vZGFsfVxufSkoKTtcblxuZXhwb3J0IHttb2RhbE1vZHVsZX1cbiIsIlxuXG5jb25zdCBtb3ZlbWVudE1vZHVsZSA9ICgoKSA9PiB7XG5cbi8vaWYgdGhlIGhpdCBtYXRjaGVzIHdoYXRzIGluIHRoZSBhcnJheSBpdCByZXR1cm5zIFwiWVwiIGlmIG5vdDogXCJOXCJzXG5jb25zdCBtYXRjaCA9IChoaXQsYXJyKT0+e1xuICAgIGxldCBjb3VudGVyID0gMDtcbiAgICBsZXQgcmVzdWx0O1xuZm9yKGxldCBpPTA7aTxhcnIubGVuZ3RoO2krKyl7XG4gICAgaWYoaGl0PT09YXJyW2ldKXtjb3VudGVyKyt9XG4gICAgICAgIFxufVxuaWYoY291bnRlcj4wKXtyZXN1bHQgPSBcIllcIn1cbmVsc2V7cmVzdWx0ID0gXCJOXCJ9XG5yZXR1cm4gcmVzdWx0O1xufVxuXG4vL0ExIHRvIEIxXG4gICAgY29uc3QgbW92ZURvd24gPSAoaGl0LGFycikgPT57XG5cbiAgICAgICAgbGV0IEx0dHIgPSBoaXQuc2xpY2UoMCwxKVxuICAgICAgICBsZXQgbm51bWJlciA9IGhpdC5zbGljZSgxLDIpXG4gICAgICAgIGxldCBMdHJOdW1iZXIgPSBMdHRyLmNoYXJDb2RlQXQoMClcbiAgICAgICAgbGV0IG5ld0x0dHJyID0gU3RyaW5nLmZyb21DaGFyQ29kZSgrK0x0ck51bWJlcilcbiAgICAgICBcblxuICAgICAgIGxldCBpPTA7XG4gICAgICAgd2hpbGUoaTwxMCl7XG4gICAgICAgICBpZihtYXRjaCgobmV3THR0cnIrbm51bWJlciksYXJyKT09PVwiTlwiKXtcbiAgICAgICAgICAgICBuZXdMdHRyciA9IFN0cmluZy5mcm9tQ2hhckNvZGUoKytMdHJOdW1iZXIpXG4gICAgICAgICAgICAgaSsrXG4gICAgICAgICAgICAgfVxuICAgICAgICAgZWxzZSBpZihtYXRjaCgobmV3THR0cnIrbm51bWJlciksYXJyKT09PVwiWVwiKXtcbiAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgIH1cblxuICAgICAgICAgXG5cbiAgICAgICB9XG4gICAgICAgICAgbGV0IG5ld0hpdD1uZXdMdHRycitubnVtYmVyOyAgIFxuICAgICAgIHJldHVybiBuZXdIaXRcblxuXG4gICAgfVxuXG4gICAgLy9CMSB0byBBMVxuICAgIGNvbnN0IG1vdmVVcCA9IChoaXQsYXJyKSA9PntcblxuICAgICAgICBsZXQgTHR0ciA9IGhpdC5zbGljZSgwLDEpXG4gICAgICAgIGxldCBubnVtYmVyID0gaGl0LnNsaWNlKDEsMilcbiAgICAgICAgbGV0IEx0ck51bWJlciA9IEx0dHIuY2hhckNvZGVBdCgwKVxuICAgICAgIGxldCBuZXdMdHRyciA9IFN0cmluZy5mcm9tQ2hhckNvZGUoLS1MdHJOdW1iZXIpXG5cbiAgICAgICBsZXQgaT0wO1xuICAgICAgIHdoaWxlKGk8MTApe1xuICAgICAgICAgaWYobWF0Y2goKG5ld0x0dHJyK25udW1iZXIpLGFycik9PT1cIk5cIil7XG4gICAgICAgICAgICAgbmV3THR0cnIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKC0tTHRyTnVtYmVyKVxuICAgICAgICAgICAgIGkrK1xuICAgICAgICAgICAgIH1cbiAgICAgICAgIGVsc2UgaWYobWF0Y2goKG5ld0x0dHJyK25udW1iZXIpLGFycik9PT1cIllcIil7XG4gICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICB9XG5cbiAgICAgICAgIFxuXG4gICAgICAgfVxuICAgICAgICAgIGxldCBuZXdIaXQ9bmV3THR0cnIrbm51bWJlcjtcblxuICAgICAgIHJldHVybiBuZXdIaXRcblxuXG4gICAgfVxuXG4gICAgLy9hMSB0byBhMlxuICAgIGNvbnN0IG1vdmVGd2QgPSAoaGl0LGFycikgPT57XG5cbiAgICAgICAgbGV0IEx0dHIgPSBoaXQuc2xpY2UoMCwxKVxuICAgICAgICBsZXQgbnVtYmVyID0gaGl0LnNsaWNlKDEsMilcbiAgICAgICAgbGV0IG5udW1iZXIgPSBwYXJzZUludChudW1iZXIpXG4gICAgICAgIGxldCBuZXdObyA9ICsrbm51bWJlclxuXG4gICAgICAgIGxldCBpPTA7XG4gICAgICAgIHdoaWxlKGk8MTApe1xuICAgICAgICAgIGlmKG1hdGNoKChMdHRyK25ld05vKSxhcnIpPT09XCJOXCIpe1xuICAgICAgICAgICAgICBuZXdObyA9ICsrbm51bWJlclxuICAgICAgICAgICAgICBpKytcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYobWF0Y2goKEx0dHIrbmV3Tm8pLGFycik9PT1cIllcIil7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiBcbiAgICAgICAgICBcbiBcbiAgICAgICAgfVxuICAgICAgICAgICBsZXQgbmV3SGl0PUx0dHIrbmV3Tm87XG4gXG4gICAgICAgIHJldHVybiBuZXdIaXRcblxuXG5cbiAgICB9XG5cbiAgICAvL2EyIHRvIGExXG4gICAgY29uc3QgbW92ZUJjayA9IChoaXQsYXJyKSA9PntcblxuICAgICAgICBsZXQgTHR0ciA9IGhpdC5zbGljZSgwLDEpXG4gICAgICAgIGxldCBudW1iZXIgPSBoaXQuc2xpY2UoMSwyKVxuICAgICAgICBsZXQgbm51bWJlciA9IHBhcnNlSW50KG51bWJlcilcbiAgICAgICAgbGV0IG5ld05vID0gLS1ubnVtYmVyXG5cbiAgICAgICAgbGV0IGk9MDtcbiAgICAgICAgd2hpbGUoaTwxMCl7XG4gICAgICAgICAgaWYobWF0Y2goKEx0dHIrbmV3Tm8pLGFycik9PT1cIk5cIil7XG4gICAgICAgICAgICAgIG5ld05vID0gLS1ubnVtYmVyXG4gICAgICAgICAgICAgIGkrK1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZihtYXRjaCgoTHR0cituZXdObyksYXJyKT09PVwiWVwiKXtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuIFxuICAgICAgICAgIFxuIFxuICAgICAgICB9XG4gICAgICAgICAgIGxldCBuZXdIaXQ9THR0cituZXdObztcblxuICAgICAgIHJldHVybiBuZXdIaXRcblxuICAgICAgIFxuICAgIH1cblxuICAgIHJldHVybiB7bW92ZURvd24sbW92ZVVwLG1vdmVGd2QsbW92ZUJjayxtYXRjaH1cbn0pKCk7XG5cbmV4cG9ydCB7IG1vdmVtZW50TW9kdWxlfSIsImltcG9ydCB7IGNob29zZUNyZG50cyB9IGZyb20gXCIuL2Nob29zZUNvb3JkaW5hdGVzXCI7XG5pbXBvcnQgeyBjb21wQWlyZWNvcmQsck5vLHNtYXJ0Q291bnRlcixwbGF5ZXIxY29vcmQscGxheWVyMmNvb3JkLHN0YXJ0R2FtZSx0YXJnZXRBcnJheXkgfSBmcm9tIFwiLi9pbmRleFwiXG5pbXBvcnQgeyBtb3ZlbWVudE1vZHVsZSB9IGZyb20gXCIuL21vdmVtZW50TW9kdWxlXCI7XG5pbXBvcnQgeyBvdmVyTGFwIH0gZnJvbSBcIi4vb3ZlckxhcFwiO1xuaW1wb3J0IHsgc2hpcGZhY3RvcnkgfSBmcm9tIFwiLi9zaGlwc1wiO1xuXG5cbi8qIFxuVGhlIGNvbXB1dGVyIEFJIG5lZWRzIHRvIGJlIGFibGUgdG8gcmFuZG9tbHkgc2VsZWN0IGl0cycgc2hpcCBwb3NpdGlvbnMuXG5SYW5kb21seSBzZWxlY3QgaXRzJyBoaXQgcG9pbnRzLlxuXG5yYW5kb20gbnVtYmVyIGJldHdlZW4gb25lIGFuZCB0ZW5cbk1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiAxMCkgKyAxKTtcblxuQSBtb3JlIGFkdmFuY2VkIEFJIHdvdWxkIHRoZW4gYmUgYWJsZSB0byBoaXQgYWRqYWNlbnQgZ3JpZHMgd2hlbiBpdCBkZXRlY3RzIGEgaGl0LlxuKi9cblxuXG4vL1dlIG5lZWQgdGhlIGNvbXB1dGVyIHRvIGdlbmVyYXRlIGl0cyBjb29yZGluYXRlcyByYW5kb21seSB0aGVuIHN0YXJ0IHRoZSBnYW1lIFxuXG5jb25zdCBjb21wdXRlckFJID0gKCgpID0+e1xuXG4gIFxuXG4gIC8vUHJvZHVjZXMgdGhlIHRhcmdldCBhcnJheSB0aGF0IHRoZSBjb21wdXRlciB3aWxsIHNlbGVjdCBjb29yZGluYXRlcyBmcm9tXG4gIGZ1bmN0aW9uIHRhcmdldEFycmF5KCl7XG4gICAgICBmb3IobGV0IGk9NjU7aTw3NTtpKyspe1xuICAgICAgICAvL2NoYW5nZSBiYWNrIHRvIDExIGJlbG93XG4gICAgICAgICAgZm9yKGxldCBvPTE7bzwzO28rKyl7XG4gICAgICAgICAgICAgIHRhcmdldEFycmF5eS5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoaSkgKyBvKVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgfVxuICBcblxuXG5cbmZ1bmN0aW9uIHJhbmRvbUludEZyb21JbnRlcnZhbChtaW4sIG1heCkgeyAvLyBtaW4gYW5kIG1heCBpbmNsdWRlZCBcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSArIG1pbilcbn1cblxuZnVuY3Rpb24gaGl0KCl7XG4gIGNvbnNvbGUubG9nKHNtYXJ0Q291bnRlcilcbiAgY29uc29sZS5sb2coY29tcEFpcmVjb3JkKVxubGV0IENBZnVuY1xuICAgICAgICAvKlxuICAgICAgICBCZWxvdyBpcyB0aGUgZnVuY3Rpb24gdGhhdCB3ZSBhcmUgZ29pbmcgdG8gY29ubmVjdCB0byB0aGUgbW92ZW1lbnQgbW9kdWxlXG4gICAgICAgIGl0IHdpbGwgbG9vcCB0aHJvdWdoIHRoZSByZWNvcmQgb2YgYW55IGNvbXB1dGVyIGFpIGhpdHMgYW5kIG1ha2UgYSBoaXRcbiAgICAgICAgYW55dGhpbmcgdGhhdCBuZWVkcyB0byBiZSBjaGFuZ2VkIGhhcyBhIFwiVEMgY29tbWVudFwiXG4gICAgICAgICovXG5cblxuICAgICAgICAgIGxldCBpPTA7XG4gICAgICAgd2hpbGUoaTw9Y29tcEFpcmVjb3JkLmxlbmd0aCl7XG4gICAgICAgIGlmKGk9PT1jb21wQWlyZWNvcmQubGVuZ3RoKXtcbiAgICAgICAgICBhbGVydChcIk5PTk9OT05PTk9OXCIpXG4gICAgICAgICAgck5vID0gcmFuZG9tSW50RnJvbUludGVydmFsKDAsIHRhcmdldEFycmF5eS5sZW5ndGgtMSlcbiAgICAgICAgYnJlYWt9XG5cbiAgICAgICAgICBlbHNlIGlmKGNvbXBBaXJlY29yZFtpXS5jb29yZGluYXRlcy5sZW5ndGg+MCl7XG4gICAgICAgICAgICAvL1RDICBiZWxvdyBpcyBqdXN0IGEgdGVzdCwgaWRlYWxseSB0aGlzIGZ1bmN0aW9uIHdpbGwgY2hvb3NlIGEgc21hcnQgZnVuY3Rpb24uXG4gICAgICAgICAgICBhbGVydChjb21wQWlyZWNvcmRbaV0ubmFtZSlcbiAgICAgICAgICAgIGxldCBDQSA9IGNvbXBBaXJlY29yZFtpXTtcbiAgICAgICAgICAgIGxldCBDQXRhcmdldCA9IENBLmNvb3JkaW5hdGVzW0NBLmNvb3JkaW5hdGVzLmxlbmd0aC0xXVxuICAgICAgICAgICAgQ0FmdW5jID0gY29tcEFpcmVjb3JkW2ldLmZ1bmN0aW9uQ291bnQ7XG4gICAgICAgICAgICBsZXQgQ0FzdW5rID0gY29tcEFpcmVjb3JkW2ldLnN1bms7XG5cblxuICAgICAgICAgIFxuXG4gICAgICAgICAgICBhbGVydChDQWZ1bmMpXG4gICAgICAgICAgICBpZihDQWZ1bmM9PT0xICYmIENBc3Vuaz09PVwiTlwiKXtsZXQgdHJnID0gbW92ZW1lbnRNb2R1bGUubW92ZURvd24oQ0F0YXJnZXQsdGFyZ2V0QXJyYXl5KVxuICAgICAgICAgICAgICBhbGVydCh0cmcpXG4gICAgICAgICAgICAgIHJObz10YXJnZXRBcnJheXkuaW5kZXhPZih0cmcpfVxuICAgICAgICAgICAgIGVsc2UgaWYoQ0FmdW5jPT09MiAmJiBDQXN1bms9PT1cIk5cIil7bGV0IHRyZyA9IG1vdmVtZW50TW9kdWxlLm1vdmVVcChDQXRhcmdldCx0YXJnZXRBcnJheXkpXG4gICAgICAgICAgICAgICAgYWxlcnQodHJnKVxuICAgICAgICAgICAgICAgIHJObz10YXJnZXRBcnJheXkuaW5kZXhPZih0cmcpfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYoQ0FmdW5jPT09MyAmJiBDQXN1bms9PT1cIk5cIil7bGV0IHRyZyA9IG1vdmVtZW50TW9kdWxlLm1vdmVGd2QoQ0F0YXJnZXQsdGFyZ2V0QXJyYXl5KVxuICAgICAgICAgICAgICAgICAgYWxlcnQodHJnKVxuICAgICAgICAgICAgICAgICAgck5vPXRhcmdldEFycmF5eS5pbmRleE9mKHRyZyl9XG4gICAgICAgICAgICAgICAgICBlbHNlIGlmKENBZnVuYz09PTQgJiYgQ0FzdW5rPT09XCJOXCIpe2xldCB0cmcgPSBtb3ZlbWVudE1vZHVsZS5tb3ZlQmNrKENBdGFyZ2V0LHRhcmdldEFycmF5eSlcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQodHJnKVxuICAgICAgICAgICAgICAgICAgICByTm89dGFyZ2V0QXJyYXl5LmluZGV4T2YodHJnKX1cblxuICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGJyZWFrfVxuXG4gICAgICAgICAgICBlbHNlIGlmKGNvbXBBaXJlY29yZFtpXS5jb29yZGluYXRlcy5sZW5ndGg9PT0wKXtpKyt9XG4gICAgICAgICBcbiAgICAgICAgICBcbiAgICAgICB9XG4gICAgICAgICAgIFxuICAgICAgICBcbiAgICAgICAvLyB9XG5cblxuICAgICAgICAgbGV0IGZpcmUgPSB0YXJnZXRBcnJheXlbck5vXTtcbiAgICAgICAgIHRhcmdldEFycmF5eS5zcGxpY2Uock5vLDEpXG4gICAgICAgIGNvbnNvbGUubG9nKFwiUmFuZG9tIG5vOiBcIityTm8pXG4gICAgICAgICBjb25zb2xlLmxvZyhcIkxlbmd0aDogXCIrdGFyZ2V0QXJyYXl5Lmxlbmd0aClcbiAgICAgICAgIGNvbnNvbGUubG9nKHRhcmdldEFycmF5eSlcbiAgICAgICAgIFxuICAgICAgICAgcmV0dXJuIGZpcmVcblxufVxuXG4vL3dvcmsgY2xvc2VseSB3aXRoIHNoaXBzLmpzIHRvIGNyYWZ0IHRoaXNcbmZ1bmN0aW9uIHNlbGVjdENhcnJpZXIoKXtcbiAgICAvL2xldHRlciBuZWVkcyB0byBiZSBtb2RpZmllZCB0byBjaHVybiBvdXQgbGV0dGVyIGJldHdlZW4gYSBhbmQgalxuICAgIGxldCByYW5kb21ObyA9IHJhbmRvbUludEZyb21JbnRlcnZhbCg2NSw3NCk7XG4gICAgbGV0IGxldHRlciA9IFN0cmluZy5mcm9tQ2hhckNvZGUocmFuZG9tTm8pO1xuICAgIGxldCBudW1iZXIgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogMTApICsgMSk7XG4gICAgbGV0IGRpciA9IHJhbmRvbUludEZyb21JbnRlcnZhbCgxLDIpO1xuICAgIGxldCBkaXJlY3Rpb24gPSBcIlZcIlxuICAgIGlmKGRpcj09PTEpe2RpcmVjdGlvbj1cIlZcIn1lbHNle2RpcmVjdGlvbj1cIkhcIn1cbiAgICBsZXQgUEMgPSBwbGF5ZXIyY29vcmQ7XG4gICAgbGV0IGd1bm4gPSBuZXcgc2hpcGZhY3RvcnkoXCJDYXJyaWVyXCIsY2hvb3NlQ3JkbnRzKGxldHRlcixudW1iZXIsMixkaXJlY3Rpb24pKVxuICAgIGlmKG92ZXJMYXAoUEMsY2hvb3NlQ3JkbnRzKGxldHRlcixudW1iZXIsMixkaXJlY3Rpb24pKT09PVwiWVwiKXtjb21wdXRlckFJLnNlbGVjdENhcnJpZXIoKX1cbiAgZWxzZXsgXG4gICAgUEMucHVzaChndW5uKTtcbiAgICAvL3Rlc3RpbmcgZmlyc3RcbiAgICBjb21wdXRlckFJLnNlbGVjdEJhdHRsZXNoaXAoKTtcbiAgICBcbn1cbn1cblxuXG5mdW5jdGlvbiBzZWxlY3RCYXR0bGVzaGlwKCl7XG4gIC8vbGV0dGVyIG5lZWRzIHRvIGJlIG1vZGlmaWVkIHRvIGNodXJuIG91dCBsZXR0ZXIgYmV0d2VlbiBhIGFuZCBqXG4gIGxldCByYW5kb21ObyA9IHJhbmRvbUludEZyb21JbnRlcnZhbCg2NSw3NCk7XG4gIGxldCBsZXR0ZXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHJhbmRvbU5vKTtcbiAgbGV0IG51bWJlciA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiAxMCkgKyAxKTtcbiAgbGV0IGRpciA9IHJhbmRvbUludEZyb21JbnRlcnZhbCgxLDIpO1xuICBsZXQgZGlyZWN0aW9uID0gXCJWXCJcbiAgaWYoZGlyPT09MSl7ZGlyZWN0aW9uPVwiVlwifWVsc2V7ZGlyZWN0aW9uPVwiSFwifVxuICBsZXQgUEMgPSBwbGF5ZXIyY29vcmQ7XG4gIGxldCBndW5uID0gbmV3IHNoaXBmYWN0b3J5KFwiQmF0dGxlc2hpcFwiLGNob29zZUNyZG50cyhsZXR0ZXIsbnVtYmVyLDMsZGlyZWN0aW9uKSlcbiAgaWYob3ZlckxhcChQQyxjaG9vc2VDcmRudHMobGV0dGVyLG51bWJlciwzLGRpcmVjdGlvbikpPT09XCJZXCIpe2NvbXB1dGVyQUkuc2VsZWN0QmF0dGxlc2hpcCgpfVxuZWxzZXsgXG4gIFBDLnB1c2goZ3Vubik7XG4gIC8vdGVzdGluZyBmaXJzdFxuICBjb21wdXRlckFJLnNlbGVjdENydWlzZXIoKTtcbiAgXG4gIFxufVxufVxuXG5cbmZ1bmN0aW9uIHNlbGVjdENydWlzZXIoKXtcbiAgLy9sZXR0ZXIgbmVlZHMgdG8gYmUgbW9kaWZpZWQgdG8gY2h1cm4gb3V0IGxldHRlciBiZXR3ZWVuIGEgYW5kIGpcbiAgbGV0IHJhbmRvbU5vID0gcmFuZG9tSW50RnJvbUludGVydmFsKDY1LDc0KTtcbiAgbGV0IGxldHRlciA9IFN0cmluZy5mcm9tQ2hhckNvZGUocmFuZG9tTm8pO1xuICBsZXQgbnVtYmVyID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDEwKSArIDEpO1xuICBsZXQgZGlyID0gcmFuZG9tSW50RnJvbUludGVydmFsKDEsMik7XG4gIGxldCBkaXJlY3Rpb24gPSBcIlZcIlxuICBpZihkaXI9PT0xKXtkaXJlY3Rpb249XCJWXCJ9ZWxzZXtkaXJlY3Rpb249XCJIXCJ9XG4gIGxldCBQQyA9IHBsYXllcjJjb29yZDtcbiAgbGV0IGd1bm4gPSBuZXcgc2hpcGZhY3RvcnkoXCJDcnVpc2VyXCIsY2hvb3NlQ3JkbnRzKGxldHRlcixudW1iZXIsNCxkaXJlY3Rpb24pKVxuICBpZihvdmVyTGFwKFBDLGNob29zZUNyZG50cyhsZXR0ZXIsbnVtYmVyLDQsZGlyZWN0aW9uKSk9PT1cIllcIil7Y29tcHV0ZXJBSS5zZWxlY3RDcnVpc2VyKCl9XG5lbHNleyBcbiAgUEMucHVzaChndW5uKTtcbiAgLy90ZXN0aW5nIGZpcnN0XG4gIGNvbXB1dGVyQUkuc2VsZWN0U3VibWFyaW5lKCk7XG4gIFxufVxufVxuXG5cbmZ1bmN0aW9uIHNlbGVjdFN1Ym1hcmluZSgpe1xuICAvL2xldHRlciBuZWVkcyB0byBiZSBtb2RpZmllZCB0byBjaHVybiBvdXQgbGV0dGVyIGJldHdlZW4gYSBhbmQgalxuICBsZXQgcmFuZG9tTm8gPSByYW5kb21JbnRGcm9tSW50ZXJ2YWwoNjUsNzQpO1xuICBsZXQgbGV0dGVyID0gU3RyaW5nLmZyb21DaGFyQ29kZShyYW5kb21Obyk7XG4gIGxldCBudW1iZXIgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogMTApICsgMSk7XG4gIGxldCBkaXIgPSByYW5kb21JbnRGcm9tSW50ZXJ2YWwoMSwyKTtcbiAgbGV0IGRpcmVjdGlvbiA9IFwiVlwiXG4gIGlmKGRpcj09PTEpe2RpcmVjdGlvbj1cIlZcIn1lbHNle2RpcmVjdGlvbj1cIkhcIn1cbiAgbGV0IFBDID0gcGxheWVyMmNvb3JkO1xuICBsZXQgZ3VubiA9IG5ldyBzaGlwZmFjdG9yeShcIlN1Ym1hcmluZVwiLGNob29zZUNyZG50cyhsZXR0ZXIsbnVtYmVyLDUsZGlyZWN0aW9uKSlcbiAgaWYob3ZlckxhcChQQyxjaG9vc2VDcmRudHMobGV0dGVyLG51bWJlciw1LGRpcmVjdGlvbikpPT09XCJZXCIpe2NvbXB1dGVyQUkuc2VsZWN0U3VibWFyaW5lKCl9XG5lbHNleyBcbiAgUEMucHVzaChndW5uKTtcbiAgLy90ZXN0aW5nIGZpcnN0XG4gIGNvbXB1dGVyQUkuc2VsZWN0RGVzdHJveWVyKCk7XG4gIFxuICBcbn1cbn1cblxuXG5mdW5jdGlvbiBzZWxlY3REZXN0cm95ZXIoKXtcbiAgLy9sZXR0ZXIgbmVlZHMgdG8gYmUgbW9kaWZpZWQgdG8gY2h1cm4gb3V0IGxldHRlciBiZXR3ZWVuIGEgYW5kIGpcbiAgbGV0IHJhbmRvbU5vID0gcmFuZG9tSW50RnJvbUludGVydmFsKDY1LDc0KTtcbiAgbGV0IGxldHRlciA9IFN0cmluZy5mcm9tQ2hhckNvZGUocmFuZG9tTm8pO1xuICBsZXQgbnVtYmVyID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDEwKSArIDEpO1xuICBsZXQgZGlyID0gcmFuZG9tSW50RnJvbUludGVydmFsKDEsMik7XG4gIGxldCBkaXJlY3Rpb24gPSBcIlZcIlxuICBpZihkaXI9PT0xKXtkaXJlY3Rpb249XCJWXCJ9ZWxzZXtkaXJlY3Rpb249XCJIXCJ9XG4gIGxldCBQQyA9IHBsYXllcjJjb29yZDtcbiAgbGV0IGd1bm4gPSBuZXcgc2hpcGZhY3RvcnkoXCJEZXN0cm95ZXJcIixjaG9vc2VDcmRudHMobGV0dGVyLG51bWJlciw2LGRpcmVjdGlvbikpXG4gIGlmKG92ZXJMYXAoUEMsY2hvb3NlQ3JkbnRzKGxldHRlcixudW1iZXIsNixkaXJlY3Rpb24pKT09PVwiWVwiKXtjb21wdXRlckFJLnNlbGVjdERlc3Ryb3llcigpfVxuZWxzZXsgXG4gIFBDLnB1c2goZ3Vubik7XG4gIC8vdGVzdGluZyBmaXJzdFxuICBzdGFydEdhbWUoKTsgIFxuICBcbn1cbn1cbnJldHVybiB7aGl0LHNlbGVjdENhcnJpZXIsc2VsZWN0QmF0dGxlc2hpcCxzZWxlY3RDcnVpc2VyLHNlbGVjdFN1Ym1hcmluZSxzZWxlY3REZXN0cm95ZXIscmFuZG9tSW50RnJvbUludGVydmFsLHRhcmdldEFycmF5fVxufSkoKTtcblxuXG5leHBvcnQge2NvbXB1dGVyQUl9IiwiaW1wb3J0IHtHYW1lYm9hcmRNb2R1bGV9IGZyb20gJy4vZ2FtZWJvYXJkJ1xuaW1wb3J0IHtjYXJyaWVyLGJhdHRsZXNoaXAsY3J1aXNlcixzdWJtYXJpbmUsZGVzdHJveWVyfSBmcm9tICcuL3NoaXBzJ1xuaW1wb3J0IHtkb21Nb2R1bGV9IGZyb20gJy4vZG9tJ1xuaW1wb3J0IHttb2RhbE1vZHVsZX0gZnJvbSAnLi9tb2RhbCdcbmltcG9ydCB7Y29tcHV0ZXJBSX0gZnJvbSAnLi9jb21wdXRlckFJJ1xuaW1wb3J0IHttb3ZlbWVudE1vZHVsZX0gZnJvbSAnLi9tb3ZlbWVudE1vZHVsZSdcblxuXG4vL2NvbXB1dGVyIGluIHBsYXlcbmxldCBjaXAgPSBcIk5cIlxuICAvL2Nvb3JkaW5hdGVzIG9mIGVhY2ggcGxheWVycyBzaGlwXG4gIGxldCBwbGF5ZXIxY29vcmQ9W107XG4gIGxldCBwbGF5ZXIyY29vcmQ9W107XG4gIC8vYW1vdW50IG9mIHN1bmsgc2hpcHMgZGV0ZXJtaW5pbmcgd2hldGhlciB0aGUgZ2FtZSBpcyBvdmVyIG9yIG5vdFxuICBsZXQgcGxheWVyMVN1bmtTaGlwcz0wO1xuICBsZXQgcGxheWVyMlN1bmtTaGlwcz0wO1xuICAvL2Nvb3JkaW5hdGVzIG9mIGVhY2ggdGlsZSBoaXQgYnkgZWFjaCBwbGF5ZXJcbiAgbGV0IHBsYXllcjFzdHJpa2VzPVtdXG4gIGxldCBwbGF5ZXIyc3RyaWtlcz1bXVxuICAvL1Y9VmVydGljYWwsIEg9SG9yaXpvbnRhbFxuICBsZXQgZGlyZWN0aW9uID0gXCJWXCJcbiAgLy9wbGF5ZXIgaW4gcGxheVxuICBsZXQgcGxheWVyQmFzZSA9IFtcInBsYXllcjFcIixcInBsYXllcjJcIl07XG4gIGxldCBwaXAgPSBwbGF5ZXJCYXNlWzBdO1xuICBsZXQgUGNyZCA9IHBsYXllcjFjb29yZDtcbiAgaWYocGlwID09PSBwbGF5ZXJCYXNlWzBdKXtQY3JkID0gcGxheWVyMWNvb3JkO31cbiAgZWxzZSBpZihwaXAgPT09IHBsYXllckJhc2VbMV0pe1BjcmQgPSBwbGF5ZXIyY29vcmQ7fVxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBpcFwiKS50ZXh0Q29udGVudCA9IHBpcDtcbiAgLy90aGUgc3F1YXJlcyB0aGF0IG5lZWQgaGlnaGxpZ2h0aW5nIGZvciB0aGUgZG9tXG4gIGxldCBzcTtcbiAgbGV0IFBoaXQ7XG4gIGxldCB0YXJnZXRBcnJheXkgPSBbXTtcbiAgbGV0IHNtYXJ0Q291bnRlciA9IDA7XG4gIGxldCByTm87XG4gIFxuICBcbiAgY29tcHV0ZXJBSS50YXJnZXRBcnJheSgpO1xuICBjb25zb2xlLmxvZyh0YXJnZXRBcnJheXkpXG4gIGNvbnNvbGUubG9nKFwiWUVSVFwiKVxuXG4gIGxldCBjb21wQWlyZWNvcmQ9W1xuICAgICAgICAgICAgICAgICAgICB7bmFtZTpcIkNhcnJpZXJcIixjb29yZGluYXRlczpbXSxzdW5rOlwiTlwiLGZ1bmN0aW9uQ291bnQ6MH0sXG4gICAgICAgICAgICAgICAgICAgIHtuYW1lOlwiQmF0dGxlc2hpcFwiLGNvb3JkaW5hdGVzOltdLHN1bms6XCJOXCIsZnVuY3Rpb25Db3VudDowfSxcbiAgICAgICAgICAgICAgICAgICAge25hbWU6XCJDcnVpc2VyXCIsY29vcmRpbmF0ZXM6W10sc3VuazpcIk5cIixmdW5jdGlvbkNvdW50OjB9LFxuICAgICAgICAgICAgICAgICAgICB7bmFtZTpcIlN1Ym1hcmluZVwiLGNvb3JkaW5hdGVzOltdLHN1bms6XCJOXCIsZnVuY3Rpb25Db3VudDowfSxcbiAgICAgICAgICAgICAgICAgICAge25hbWU6XCJEZXN0cm95ZXJcIixjb29yZGluYXRlczpbXSxzdW5rOlwiTlwiLGZ1bmN0aW9uQ291bnQ6MH1cbiAgICAgICAgICAgICAgICBdO1xuICBcbiAgXG5cblxuXG5cblxuICBcbiAgXG5cbi8vYnV0dG9uIHRvIGNoYW5nZSB0aGUgcG9zaXRpb25pbmcgb2YgdGhlIHBsYWNlbWVudFxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJDaG5nZVwiKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKCk9PntpZihkaXJlY3Rpb249PT1cIlZcIil7ZGlyZWN0aW9uPVwiSFwiO2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9zaXRpb25cIikudGV4dENvbnRlbnQ9XCJIb3Jpem9udGFsXCI7fWVsc2UgaWYoZGlyZWN0aW9uPT09XCJIXCIpe2RpcmVjdGlvbj1cIlZcIjtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvc2l0aW9uXCIpLnRleHRDb250ZW50PVwiVmVydGljYWxcIn19KVxuLy9hdHRhY2tib2FyZCBidXR0b24gdGhhdCBzaG93cyBwb3NpdGlvbnMgd2hlcmUgdGhlIHBsYXllciBoYXMgYXR0YWNrZWRcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2h3c2hpcG9zXCIpLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsKCk9Pntkb21Nb2R1bGUud2hpdGVPdXQoKTtcbiAgICBkb21Nb2R1bGUucGxheWVyQm9hcmQoKTtcbiAgICB9KVxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaHdzaGlwb3NcIikuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsKCk9Pntkb21Nb2R1bGUud2hpdGVPdXQoKTtcbiAgICBkb21Nb2R1bGUuYXR0YWNrQm9hcmQoKTt9KVxuXG4gICBjb25zb2xlLmxvZyhcIkhFWUVFXCIpXG4vL2Z1bmN0aW9uIGNoYW5nZXMgcGxheWVyXG5jb25zdCBjaGFuUGxheWVyID0gKCk9PntcbiAgICBsZXQgdDtcbmlmKGNpcD09PVwiWVwiKXsgICAgICBcbiAgICAgICAgdCA9IG1vZGFsTW9kdWxlLmNvbXBIaXRNb2RhbCgpO31cbiAgICAgICAgXG5lbHNle3QgPSBtb2RhbE1vZHVsZS5zaG93TW9kdWxlKCk7fVxudDtcbiAgICBpZihwaXAgPT09IHBsYXllckJhc2VbMF0pe3BpcCA9IHBsYXllckJhc2VbMV07XG4gICAgICAgIFBjcmQgPSBwbGF5ZXIyY29vcmQ7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGlwXCIpLnRleHRDb250ZW50ID0gcGlwO31cbiAgICBlbHNlIGlmKHBpcCA9PT0gcGxheWVyQmFzZVsxXSl7cGlwID0gcGxheWVyQmFzZVswXTtcbiAgICAgICAgUGNyZCA9IHBsYXllcjFjb29yZDtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwaXBcIikudGV4dENvbnRlbnQgPSBwaXA7fVxuICAgICAgICBlbHNle3BpcCA9IHBsYXllckJhc2VbMF07XG4gICAgICAgIFBjcmQ9cGxheWVyMmNvb3JkO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBpcFwiKS50ZXh0Q29udGVudCA9IHBpcDt9XG4gICAgICAgIGRvbU1vZHVsZS53aGl0ZU91dCgpO1xuICAgICAgICBkb21Nb2R1bGUuYXR0YWNrQm9hcmQoKTtcbiAgICAgICAgfVxuICAgIFxuY29uc29sZS5sb2coXCJPSUxcIilcbiAgICBjb25zb2xlLmxvZyhcIk5ubm5uXCIpXG5cblxuXG4vL2JlbG93IGZ1bmN0aW9ucyBuZWVkIHRvIGJlIGdyb3VwZWQgaW50byBhIG1vZHVsZVxuLy9jb25zb2xlLmxvZyhcIklOUlNUXCIpXG5cbmZ1bmN0aW9uIGhpdCh0KXtjb25zb2xlLmxvZyh0LnRhcmdldC5kYXRhc2V0LmxldHRlcik7XG5cbiAgICBjb25zb2xlLmxvZyhwaXApXG4gICAgXG4gICAgbGV0IFBDID0gcGxheWVyMWNvb3JkO1xuICAgIGxldCBzdHJpa2UgPSBwbGF5ZXIxc3RyaWtlcztcbiAgICBsZXQgTDtcbiAgICBsZXQgTjtcbiAgICBsZXQgaGl0Q29vcmQ7XG4gICAgbGV0IHNtYXJ0VGVsbCA9IDA7XG4gICAgY29uc29sZS5sb2coc21hcnRUZWxsKVxuXG4gICAgaWYoY2lwPT09XCJZXCImJnBpcD09PXBsYXllckJhc2VbMV0pe1xuICAgICAgICAgaGl0Q29vcmQgPSBjb21wdXRlckFJLmhpdCgpOyAgICAgIFxuICAgICAgICBcbiAgICAgICAgXG4gICAgXG4gICAgYWxlcnQoXCJDb21wdXRlciBoYXMgc3RydWNrIFRpbGU6IFwiK2hpdENvb3JkKVxuICAgIFxuICAgIH1cbiAgICBlbHNle1xuICAgIFxuICAgIEwgPSB0LnRhcmdldC5kYXRhc2V0LmxldHRlcjtcbiAgICBOID0gdC50YXJnZXQuZGF0YXNldC5udW1iZXI7XG4gICAgaGl0Q29vcmQgPSBMK047fVxuXG5cbiAgICBjb25zb2xlLmxvZyhoaXRDb29yZCk7XG4gICAgY29uc29sZS5sb2coUEMubGVuZ3RoKTsgXG4gICAgaWYocGlwID09PSBwbGF5ZXJCYXNlWzBdKXtQQyA9IHBsYXllcjJjb29yZDtzdHJpa2U9cGxheWVyMXN0cmlrZXM7UGhpdD10LnRhcmdldC5kYXRhc2V0LlAxaGl0fVxuICAgIGVsc2UgaWYocGlwID09PSBwbGF5ZXJCYXNlWzFdICYmIGNpcCE9XCJZXCIpe1BDID0gcGxheWVyMWNvb3JkO3N0cmlrZT1wbGF5ZXIyc3RyaWtlcztQaGl0PXQudGFyZ2V0LmRhdGFzZXQuUDJoaXR9XG4gICAgZWxzZSBpZihwaXAgPT09IHBsYXllckJhc2VbMV0gJiYgY2lwPT09XCJZXCIpe1BDID0gcGxheWVyMWNvb3JkO3N0cmlrZT1wbGF5ZXIyc3RyaWtlczt9XG4gICAgaWYoTj09PVwiMFwiKXtjb25zb2xlLmxvZyhcIlN0YXkgaW4gdGhlIGdyaWQuXCIpfVxuICAgIGVsc2UgaWYoUGhpdD09PVwiWVwiKXtjb25zb2xlLmxvZyhcIkFscmVhZHkgYmVlbiBoaXQsIHRyeSBhZ2Fpbi5cIil9XG4gICAgZWxzZXsgICAgICAgXG4gICAgICAgIGlmKHBpcCA9PT0gcGxheWVyQmFzZVswXSl7UEMgPSBwbGF5ZXIyY29vcmQ7c3RyaWtlPXBsYXllcjFzdHJpa2VzO1BoaXQ9dC50YXJnZXQuZGF0YXNldC5QMWhpdD1cIllcIn1cbiAgICAgICAgZWxzZSBpZihwaXAgPT09IHBsYXllckJhc2VbMV0pe1BDID0gcGxheWVyMWNvb3JkO3N0cmlrZT1wbGF5ZXIyc3RyaWtlcztQaGl0PXQudGFyZ2V0LmRhdGFzZXQuUDJoaXQ9XCJZXCJ9XG4gICAgZm9yKGxldCBwPTA7cDxQQy5sZW5ndGg7cCsrKXtcbiAgICAgICAgZm9yKGxldCBpPTA7aTxQQ1twXS5jb29yZGluYXRlcy5sZW5ndGg7aSsrKXtcbiAgICAgICAgaWYoUENbcF0uY29vcmRpbmF0ZXNbaV09PT1oaXRDb29yZCl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhQQ1twXS5jb29yZGluYXRlcylcbiAgICAgICAgICAgIFBDW3BdLmNvb3JkaW5hdGVzLnNwbGljZShpLDEpXG4gICAgICAgIFBDW3BdLmhpdFNoaXAoaGl0Q29vcmQpO1xuICAgICAgICBQQ1twXS5pc1N1bmsoKTsgIFxuXG4gICAgICAgIC8vYWkgIFxuICAgICAgICArK3NtYXJ0VGVsbFxuXG5cbiAgICAgICAgZ2FtZU92ZXIoKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKFwiUGxheWVyIG9uZSBzdW5rIHNoaXBzOiBcIisgcGxheWVyMVN1bmtTaGlwcykgIFxuICAgICAgICBjb25zb2xlLmxvZyhcIlBsYXllciB0d28gc3VuayBzaGlwczogXCIrIHBsYXllcjJTdW5rU2hpcHMpICBcbiAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgXG4gICAgfVxuICAgIH1zdHJpa2UucHVzaChoaXRDb29yZCkgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKFwiUDEgc3RyaWtlczogXCIrIHBsYXllcjFzdHJpa2VzKVxuICAgICAgICBjb25zb2xlLmxvZyhcIlAyIHN0cmlrZXM6IFwiKyBwbGF5ZXIyc3RyaWtlcylcblxuLy9taXNzZWQgc2VjdGlvbiBpZiB0aGUgc21hcnRUZWxsIGhhc24ndCBpbmNyZWFzZWQscGxheWVyIGhhcyBtaXNzZWRcbmlmKHNtYXJ0VGVsbD09PTApe2FsZXJ0KFwiTUlTU0VEXCIpXG5pZihjaXA9PT1cIllcIiYmcGlwPT09cGxheWVyQmFzZVsxXSl7XG4gICAgLy90ZXN0aW5nIHNtYXJ0QUlcbiAgICBsZXQgaT0wO1xuICAgIHdoaWxlKGk8Y29tcEFpcmVjb3JkLmxlbmd0aCl7XG4gICAgIGlmKGNvbXBBaXJlY29yZFtpXS5mdW5jdGlvbkNvdW50PjApe2NvbXBBaXJlY29yZFtpXS5mdW5jdGlvbkNvdW50Kys7IGJyZWFrfVxuICAgICBlbHNle2krK31cblxuXG4gICAgfX19XG5cblxuICAgICAgICBcbiAgICBjaGFuUGxheWVyKClcblxuICAgIH19XG4vL2NvbnNvbGUubG9nKFwiSUlJXCIpXG5cbiBmdW5jdGlvbiBnYW1lT3Zlcigpe1xuICAgIGxldCBjb3VudCA9MDtcbiAgICBsZXQgUEMgPSBwbGF5ZXIxY29vcmQ7XG4gICAgbGV0IHBscjtcbiAgICBpZihwaXAgPT09IHBsYXllckJhc2VbMF0pe1BDID0gcGxheWVyMmNvb3JkOyBwbHI9XCJQbGF5ZXIgT25lXCJ9XG4gICAgZWxzZSBpZihwaXAgPT09IHBsYXllckJhc2VbMV0pe1BDID0gcGxheWVyMWNvb3JkOyBwbHI9XCJQbGF5ZXIgVHdvXCJ9XG4gICAgZm9yKGxldCBpID0wO2k8UEMubGVuZ3RoO2krKyl7XG4gICAgICAgaWYoUENbaV0uY29vcmRpbmF0ZXMubGVuZ3RoPT09MCl7Kytjb3VudH1cbiAgICB9XG4gICAgY29uc29sZS5sb2coY291bnQpO1xuXG4gICAgLy9jaGFuZ2UgYmVsb3cgY291bnQgdG8gMSBmb3IgYSBxdWljayBnYW1lLCA1IGZvciBhIGZ1bGwgZ2FtZVxuICAgIC8vbWF5IGJlIHdvcnRoIGFsbG93aW5nIHBsYXllcnMgdG8gY2hhbmdlIGl0IGJlZm9yZSBnYW1lIHRvIHNlZSB3aGF0IGxlbmd0aCBvZiBnYW1lIHRoZXkgd2FudCB0byBwbGF5XG4gICAgaWYoY291bnQ9PT01KXthbGVydCggcGxyKyBcIiBoYXMgd29uIVwiKX1cbiAgICB9XG4gICAgXG5cbmZ1bmN0aW9uIHN0YXJ0R2FtZSgpe1xuICAgIFxuICAgIGlmKFBjcmQubGVuZ3RoPjQpe1xuICAgICAgICBpZihjaXA9PT1cIllcIil7XG4gICAgICAgICAgICBhbGVydChcIkNvbXB1dGVyIGlzIGNob29zaW5nIGJhdHRsZSBwb3NpdGlvbnNcIilcbiAgICAgICAgICAgIHNxPTFcbiAgICAgICAgICAgIGxldCBjZWxscz0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jZWxsXCIpO1xuZm9yKGxldCBpPTA7aTxjZWxscy5sZW5ndGg7aSsrKXtcbmNlbGxzW2ldLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwid2hpdGVcIjtcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5nYW1lYnV0dG9uc1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwb3NpdGlvblBhcmFcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJDaG5nZVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgfSBwbGF5R2FtZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgc3E9MVxuICAgIGNoYW5QbGF5ZXIoKTtcbiAgICBsZXQgY2VsbHM9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2VsbFwiKTtcbmZvcihsZXQgaT0wO2k8Y2VsbHMubGVuZ3RoO2krKyl7XG4gICAgY2VsbHNbaV0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLGRlc3Ryb3llcikgXG5jZWxsc1tpXS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsc3RhcnRHYW1lKVxuY2VsbHNbaV0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ3aGl0ZVwiO1xuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbmdhbWVidXR0b25zXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvc2l0aW9uUGFyYVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkNobmdlXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbn1cbnBsYXlHYW1lKCl9fX1cbiAgICBcbiAgICBcbmZ1bmN0aW9uIHBsYXlHYW1lKCl7XG4gICAgXG4gICAgbGV0IGNlbGxzPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNlbGxcIik7XG5mb3IobGV0IGk9MDtpPGNlbGxzLmxlbmd0aDtpKyspe1xuXG5jZWxsc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsaGl0KVxuY2VsbHNbaV0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ3aGl0ZVwiO1xuY2VsbHNbaV0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJyxkb21Nb2R1bGUuaG92ZXIpXG5jZWxsc1tpXS5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJyxkb21Nb2R1bGUubGVhdmUpXG5jZWxsc1tpXS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLGRvbU1vZHVsZS5oaXRIb3ZlcilcbmNlbGxzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLGRvbU1vZHVsZS5oaXRMZWF2ZSlcblxuXG59XG59XG5cblxuXG4vL1NlbGVjdGlvbiBtb2R1bGVcbmNvbnN0IHNlbGVjdGlvbk1vZHVsZSA9ICgoKSA9PntcbiAgICBcbiAgICBcblxuICAgICAgICBcbiAgICAvL2FkZHMgYW4gZXZlbnQgbGlzdGVuZXIgdG8gZXZlcnkgZ3JpZCBjZWxsIGFsbG93aW5nIHVzIHRvIGNob29zZSBvdXIgY29vcmRpbmF0ZXMsbWFwIHRoZW0gdG8gdGhlIGFycmF5IHRoZW4gY2hhbmdlIHBsYXllclxuICAgIGZ1bmN0aW9uIHAxY2FycmllclNoaXAoKXtcbiAgICAgICBcbiAgICAgICAgbGV0IGNlbGxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jZWxsXCIpXG4gICAgICAgIC8vc3EgaXMgY29udHJvbGxpbmcgdGhlIGhpZ2hsaWdodGluZyBudW1iZXJcbiAgICAgICAgc3E9MjtcbiAgICAgICAgZm9yKGxldCBpPTA7aTxjZWxscy5sZW5ndGg7aSsrKXtcbiAgICAgICAgICAgIGNlbGxzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxjYXJyaWVyKSBcbiAgICAgICAgICAgIGNlbGxzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxzZWxlY3Rpb25Nb2R1bGUucDFiYXR0bGVTaGlwKSBcbiAgICAgICAgICAgIGNlbGxzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsZG9tTW9kdWxlLmhvdmVyKVxuICAgICAgICBjZWxsc1tpXS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJyxkb21Nb2R1bGUubGVhdmUpXG4gICAgICAgIH1cbiAgICAgICAgfVxuICAgIGZ1bmN0aW9uIHAxYmF0dGxlU2hpcCgpeyAgIFxuICAgICAgICBcbiAgICAgICAgaWYoUGNyZC5sZW5ndGg+MCl7XG4gICAgICAgIFxuICAgICAgICBsZXQgY2VsbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNlbGxcIilcbiAgICAgICAgXG4gICAgICAgIC8vc3EgaXMgY29udHJvbGxpbmcgdGhlIGhpZ2hsaWdodGluZyBudW1iZXJcbiAgICAgICAgc3E9MztcbiAgICAgICAgZm9yKGxldCBpPTA7aTxjZWxscy5sZW5ndGg7aSsrKXtcbiAgICAgICAgICAgIGNlbGxzW2ldLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxjYXJyaWVyKSBcbiAgICAgICAgICAgIGNlbGxzW2ldLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxzZWxlY3Rpb25Nb2R1bGUucDFiYXR0bGVTaGlwKSBcbiAgICAgICAgICAgIGNlbGxzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxiYXR0bGVzaGlwKSBcbiAgICAgICAgICAgIC8vaWYgY29vcmRpbmF0ZXMgbWF0Y2ggbGVuZ3RoIG5lZWRlZCBtb3ZlIG9udG8gbmV4dCBwYXJ0XG4gICAgICAgICAgICBjZWxsc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsc2VsZWN0aW9uTW9kdWxlLnAxY3J1aXNlclNoaXApIFxuICAgICAgICAgICAgY2VsbHNbaV0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJyxkb21Nb2R1bGUuaG92ZXIpXG4gICAgICAgIGNlbGxzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLGRvbU1vZHVsZS5sZWF2ZSlcbiAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIFxuXG4gICAgZnVuY3Rpb24gcDFjcnVpc2VyU2hpcCgpe1xuXG4gICAgICAgIGlmKFBjcmQubGVuZ3RoPjEpe1xuICAgICAgICAgICAgXG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZyhQY3JkKVxuICAgICAgICBsZXQgY2VsbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNlbGxcIilcbiAgICAgICAgXG4gICAgICAgIC8vc3EgaXMgY29udHJvbGxpbmcgdGhlIGhpZ2hsaWdodGluZyBudW1iZXJcbiAgICAgICAgc3E9NDtcbiAgICAgICAgZm9yKGxldCBpPTA7aTxjZWxscy5sZW5ndGg7aSsrKXtcbiAgICAgICAgICAgIGNlbGxzW2ldLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxiYXR0bGVzaGlwKSBcbiAgICAgICAgICAgIGNlbGxzW2ldLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxzZWxlY3Rpb25Nb2R1bGUucDFjcnVpc2VyU2hpcCkgXG4gICAgICAgICAgICBjZWxsc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsY3J1aXNlcikgXG4gICAgICAgICAgICBjZWxsc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsc2VsZWN0aW9uTW9kdWxlLnAxc3VibWFyaW5lU2hpcCkgXG4gICAgICAgICAgICBjZWxsc1tpXS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLGRvbU1vZHVsZS5ob3ZlcilcbiAgICAgICAgY2VsbHNbaV0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsZG9tTW9kdWxlLmxlYXZlKVxuICAgICAgICB9XG4gICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHAxc3VibWFyaW5lU2hpcCgpe1xuXG4gICAgICAgIGlmKFBjcmQubGVuZ3RoPjIpe1xuICAgICAgICBcbiAgICAgICAgbGV0IGNlbGxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jZWxsXCIpXG4gICAgICAgIFxuICAgICAgICAvL3NxIGlzIGNvbnRyb2xsaW5nIHRoZSBoaWdobGlnaHRpbmcgbnVtYmVyXG4gICAgICAgIHNxPTU7XG4gICAgICAgIGZvcihsZXQgaT0wO2k8Y2VsbHMubGVuZ3RoO2krKyl7XG4gICAgICAgICAgICBjZWxsc1tpXS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsY3J1aXNlcikgXG4gICAgICAgICAgICBjZWxsc1tpXS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsc2VsZWN0aW9uTW9kdWxlLnAxc3VibWFyaW5lU2hpcCkgXG4gICAgICAgICAgICBjZWxsc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsc3VibWFyaW5lKSBcbiAgICAgICAgICAgIGNlbGxzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxzZWxlY3Rpb25Nb2R1bGUucDFkZXN0cm95ZXJTaGlwKSBcbiAgICAgICAgICAgIGNlbGxzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsZG9tTW9kdWxlLmhvdmVyKVxuICAgICAgICBjZWxsc1tpXS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJyxkb21Nb2R1bGUubGVhdmUpXG4gICAgICAgIH1cbiAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcDFkZXN0cm95ZXJTaGlwKCl7XG5cbiAgICAgICAgaWYoUGNyZC5sZW5ndGg+Myl7XG4gICAgICAgIGxldCBjZWxscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2VsbFwiKVxuICAgICAgICBcbiAgICAgICAgLy9zcSBpcyBjb250cm9sbGluZyB0aGUgaGlnaGxpZ2h0aW5nIG51bWJlclxuICAgICAgICBzcT02O1xuICAgICAgICBmb3IobGV0IGk9MDtpPGNlbGxzLmxlbmd0aDtpKyspe1xuICAgICAgICAgICAgY2VsbHNbaV0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLHN1Ym1hcmluZSkgXG4gICAgICAgICAgICBjZWxsc1tpXS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsc2VsZWN0aW9uTW9kdWxlLnAxZGVzdHJveWVyU2hpcCkgXG4gICAgICAgICAgICBjZWxsc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsZGVzdHJveWVyKSBcbiAgICAgICAgICAgIC8vdGhpcyBkZWNpZGVzIHdoZXRoZXIgdGhlIGdhbWUgc3RhcnRzIGFmdGVyIHBsYXllciB0d28gb3IgdGhlIGNvbXB1dGVyIGhhcyBzZWxlY3RlZCB0aGVpciBncmlkc1xuICAgICAgICAgICAgLy9pZiBub3QgaXQgbG9vcHMgYXJvdW5kXG4gICAgICAgICAgICBpZihwaXAgPT09IHBsYXllckJhc2VbMV0pe2NlbGxzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxzdGFydEdhbWUpfVxuICAgICAgIGVsc2UgaWYocGlwID09PSBwbGF5ZXJCYXNlWzBdKXtjZWxsc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsc2VsZWN0aW9uTW9kdWxlLmxvb3ApIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY2VsbHNbaV0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJyxkb21Nb2R1bGUuaG92ZXIpXG4gICAgICAgIGNlbGxzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLGRvbU1vZHVsZS5sZWF2ZSlcbiAgICAgICAgfVxuICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb29wKCl7XG4gICAgICAgIGlmKFBjcmQubGVuZ3RoPjQpe1xuXG4gICAgICAgICAgICBpZihjaXA9PT1cIllcIil7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgbGV0IGNlbGxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jZWxsXCIpXG4gICAgXG4gICAgICAgIGZvcihsZXQgaT0wO2k8Y2VsbHMubGVuZ3RoO2krKyl7XG4gICAgICAgICAgICBjZWxsc1tpXS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsZGVzdHJveWVyKSBcbiAgICAgICAgICAgIGNlbGxzW2ldLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxzZWxlY3Rpb25Nb2R1bGUubG9vcCkgXG4gICAgICAgICAgICBjZWxsc1tpXS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIndoaXRlXCI7XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29tcHV0ZXJBSS5zZWxlY3RDYXJyaWVyKCk7fVxuICAgICAgICAgICAgZWxzZXtcblxuICAgICAgICAvL1RoaXMgZnVuY3Rpb24gdHVybnMgdGhlIHNlbGVjdGlvbiBwcm9jZXNzIG92ZXIgdG8gZWl0aGVyIGEgY29tcHV0ZXIgb3IgcGxheWVyIDJcbiAgICAvL2p1c3QgZG9pbmcgcGxheWVyIDIgaW1wbGVtZXRhdGlvbiBmb3Igbm93XG4gICAgY2hhblBsYXllcigpO1xuICAgICAgICBsZXQgY2VsbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNlbGxcIilcbiAgICBcbiAgICAgICAgZm9yKGxldCBpPTA7aTxjZWxscy5sZW5ndGg7aSsrKXtcbiAgICAgICAgICAgIGNlbGxzW2ldLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxkZXN0cm95ZXIpIFxuICAgICAgICAgICAgY2VsbHNbaV0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLHNlbGVjdGlvbk1vZHVsZS5sb29wKSBcbiAgICAgICAgICAgIGNlbGxzW2ldLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwid2hpdGVcIjtcbiAgICB9XG5zZWxlY3Rpb25Nb2R1bGUucDFjYXJyaWVyU2hpcCgpO1xufVxuICAgIH19XG5cblxuICAgIFxuICAgICAgICByZXR1cm57cDFjYXJyaWVyU2hpcCxwMWJhdHRsZVNoaXAscDFjcnVpc2VyU2hpcCxwMXN1Ym1hcmluZVNoaXAscDFkZXN0cm95ZXJTaGlwLGxvb3B9XG4gICAgXG4gICAgfSkoKTtcblxuXG5cblxuICAgbW9kYWxNb2R1bGUucGxheWVyU2VsZWN0KCk7XG4gICAgR2FtZWJvYXJkTW9kdWxlLmNyZWF0ZUdhbWVib2FyZCgpO1xuc2VsZWN0aW9uTW9kdWxlLnAxY2FycmllclNoaXAoKTtcblxuLy90ZXN0aW5nIGhpdCBmdW5jdGlvblxuLy9wbGF5R2FtZSgpO1xuXG5cblxuZXhwb3J0IHtjb21wQWlyZWNvcmQsck5vLHNtYXJ0Q291bnRlcix0YXJnZXRBcnJheXksaGl0LHN0YXJ0R2FtZSxzZWxlY3Rpb25Nb2R1bGUsY2lwLFBoaXQsc3EsZGlyZWN0aW9uLHBpcCxwbGF5ZXIxY29vcmQscGxheWVyMmNvb3JkLHBsYXllckJhc2UsY2hhblBsYXllcixwbGF5ZXIxU3Vua1NoaXBzLHBsYXllcjJTdW5rU2hpcHMscGxheWVyMXN0cmlrZXMscGxheWVyMnN0cmlrZXN9XG5cblxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJHYW1lYm9hcmRNb2R1bGUiLCJjcmVhdGVHcmlkcyIsImx0ciIsIm5vIiwiaWQiLCJncmlkIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJwYWRkaW5nIiwiYm9yZGVyIiwidGV4dENvbnRlbnQiLCJ0ZXh0QWxpZ24iLCJkYXRhc2V0IiwiaGl0IiwiUDFoaXQiLCJQMmhpdCIsImxldHRlciIsIm51bWJlciIsImNsYXNzTGlzdCIsImFkZCIsInNldEF0dHJpYnV0ZSIsImdldEVsZW1lbnRCeUlkIiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVHYW1lYm9hcmQiLCJpIiwiY2hvb3NlQ3JkbnRzIiwiU3RydEx0dHJzIiwiU3RydE5vIiwibGVuZ3RoIiwiVm9ySCIsImNvb3JkIiwib3ZlciIsInB1c2giLCJMdHJOdW1iZXIiLCJjaGFyQ29kZUF0IiwiY29uc29sZSIsImxvZyIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsIm92ZXJMYXAiLCJhIiwiYiIsInBsYyIsImNyZCIsIm92cmxhcCIsInoiLCJwIiwiY29vcmRpbmF0ZXMiLCJzaGlwZmFjdG9yeSIsIm5hbWUiLCJ0aGlzIiwiaGl0U2hpcCIsImFsZXJ0IiwiY2lwIiwicGlwIiwicGxheWVyQmFzZSIsImNvbXBBaXJlY29yZCIsImZ1bmN0aW9uQ291bnQiLCJpc1N1bmsiLCJjb29yZGlkIiwiY2FycmllciIsInQiLCJ0YXJnZXQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJQQyIsImd1bm4iLCJkaXJlY3Rpb24iLCJwbGF5ZXIxY29vcmQiLCJwbGF5ZXIyY29vcmQiLCJiYXR0bGVzaGlwIiwiY3J1aXNlciIsInN1Ym1hcmluZSIsImRlc3Ryb3llciIsImRvbU1vZHVsZSIsIm51bWIiLCJsZXR0ZXJyIiwiY29sb3IiLCJzcSIsInN0cmlrZSIsInBsYXllcjFzdHJpa2VzIiwicGxheWVyMnN0cmlrZXMiLCJjZWxscyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJQaGl0Iiwic2hvdyIsImlpIiwibW9kYWxNb2R1bGUiLCJtb2RhbCIsImJ0biIsInBhcmExIiwicGFyYTIiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwicHNidG5zIiwiZGlzcGxheSIsImNvbXBIaXQiLCJjbG9zZU1vZGFsIiwib25jbGljayIsImZybmQiLCJjb21wIiwic2hvd01vZHVsZSIsInBsYXllclNlbGVjdCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwiY29tcEhpdE1vZGFsIiwibW92ZW1lbnRNb2R1bGUiLCJtYXRjaCIsImFyciIsInJlc3VsdCIsImNvdW50ZXIiLCJtb3ZlRG93biIsIkx0dHIiLCJzbGljZSIsIm5udW1iZXIiLCJuZXdMdHRyciIsIm1vdmVVcCIsIm1vdmVGd2QiLCJwYXJzZUludCIsIm5ld05vIiwibW92ZUJjayIsImNvbXB1dGVyQUkiLCJyYW5kb21JbnRGcm9tSW50ZXJ2YWwiLCJtaW4iLCJtYXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJDQWZ1bmMiLCJzbWFydENvdW50ZXIiLCJyTm8iLCJ0YXJnZXRBcnJheXkiLCJDQSIsIkNBdGFyZ2V0IiwiQ0FzdW5rIiwic3VuayIsInRyZyIsImluZGV4T2YiLCJmaXJlIiwic3BsaWNlIiwic2VsZWN0Q2FycmllciIsInJhbmRvbU5vIiwic2VsZWN0QmF0dGxlc2hpcCIsInNlbGVjdENydWlzZXIiLCJzZWxlY3RTdWJtYXJpbmUiLCJzZWxlY3REZXN0cm95ZXIiLCJzdGFydEdhbWUiLCJ0YXJnZXRBcnJheSIsIlBjcmQiLCJjaGFuUGxheWVyIiwiTCIsIk4iLCJoaXRDb29yZCIsInNtYXJ0VGVsbCIsImdhbWVPdmVyIiwicGxyIiwiY291bnQiLCJwbGF5R2FtZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzZWxlY3Rpb25Nb2R1bGUiLCJwMWNhcnJpZXJTaGlwIiwicDFiYXR0bGVTaGlwIiwicDFjcnVpc2VyU2hpcCIsInAxc3VibWFyaW5lU2hpcCIsInAxZGVzdHJveWVyU2hpcCIsImxvb3AiXSwic291cmNlUm9vdCI6IiJ9